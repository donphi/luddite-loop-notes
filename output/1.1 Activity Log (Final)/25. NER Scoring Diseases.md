# NER Scoring Diseases


## Content


# Disease Ranking Methodology: From NER Tags to Primary Disease Classification


## Executive Summary


This document explains how we transform raw Named Entity Recognition (NER) outputs from three models into a defensible primary/secondary/incidental disease classification for UK Biobank citation papers.



Scientific Goal: Identify papers that naturally focus on a single disease so we can attribute feature selections (UK Biobank fields) unambiguously to that disease. We do NOT force single-disease classification - we discover it through evidence-based scoring.



---


## 1. The Scientific Problem


### 1.1 Why Single-Disease Papers Matter




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
<strong>â”‚                         FEATURE ATTRIBUTION PURITY                          â”‚
</strong>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
<strong>â”‚  SINGLE-DISEASE PAPER                  MULTI-DISEASE PAPER                  â”‚</strong>
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â”‚
â”‚                                                                             â”‚
â”‚  <strong>Paper:</strong> &quot;Blood pressure in Type 2      <strong>Paper:</strong> &quot;Cardiovascular outcomes      â”‚
â”‚         Diabetes patients&quot;                     in Diabetes vs Obesity&quot;      â”‚
â”‚                                                                             â”‚
â”‚  <strong>Disease:</strong> Type 2 Diabetes              <strong>Diseases:</strong> Diabetes, Obesity,         â”‚
â”‚                                                  Heart Disease              â”‚
â”‚  <strong>UK Biobank Features Used: </strong>                                                 â”‚
â”‚    â€¢ Blood pressure (systolic)         <strong>UK Biobank Features Used: </strong>           â”‚
â”‚    â€¢ HbA1c                               â€¢ Blood pressure                   â”‚
â”‚    â€¢ BMI                                 â€¢ BMI                              â”‚
â”‚    â€¢ Medication history                  â€¢ Cholesterol                      â”‚
â”‚                                          â€¢ Exercise frequency               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  <strong>ATTRIBUTION:</strong> 100% â–¶ Diabetes          <strong>ATTRIBUTION:</strong> Which disease used      â”‚
â”‚                                                     which feature? â“       â”‚
â”‚  âœ… CAN compare feature usage          âŒ CANNOT cleanly attribute          â”‚
â”‚     across diabetes papers                features to single disease        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
\textbf{â”‚                         FEATURE ATTRIBUTION PURITY                          â”‚
}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
\textbf{â”‚  SINGLE-DISEASE PAPER                  MULTI-DISEASE PAPER                  â”‚}
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Paper:} "Blood pressure in Type 2      \textbf{Paper:} "Cardiovascular outcomes      â”‚
â”‚         Diabetes patients"                     in Diabetes vs Obesity"      â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Disease:} Type 2 Diabetes              \textbf{Diseases:} Diabetes, Obesity,         â”‚
â”‚                                                  Heart Disease              â”‚
â”‚  \textbf{UK Biobank Features Used: }                                                 â”‚
â”‚    â€¢ Blood pressure (systolic)         \textbf{UK Biobank Features Used: }           â”‚
â”‚    â€¢ HbA1c                               â€¢ Blood pressure                   â”‚
â”‚    â€¢ BMI                                 â€¢ BMI                              â”‚
â”‚    â€¢ Medication history                  â€¢ Cholesterol                      â”‚
â”‚                                          â€¢ Exercise frequency               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  \textbf{ATTRIBUTION:} 100% â–¶ Diabetes          \textbf{ATTRIBUTION:} Which disease used      â”‚
â”‚                                                     which feature? â“       â”‚
â”‚  âœ… CAN compare feature usage          âŒ CANNOT cleanly attribute          â”‚
â”‚     across diabetes papers                features to single disease        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

\end{Verbatim}
~~~




### 1.2 Our Approach: Natural Emergence, Not Forcing




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      <strong>     WRONG vs RIGHT APPROACH      </strong>                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  âŒ <strong>WRONG:</strong> Force max_primary=1                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  â€¢ Every paper gets exactly <strong>1 PRIMARY  </strong>                                     â”‚
â”‚  â€¢ Multi-disease papers incorrectly labelled as single-disease              â”‚
â”‚  â€¢ Feature attribution becomes polluted                                     â”‚
â”‚  â€¢ Scientific validity compromised                                          â”‚
â”‚                                                                             â”‚
â”‚  âœ… <strong>RIGHT:</strong> Allow natural emergence                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  â€¢ Let scoring reveal paper&#39;s true disease focus                            â”‚
â”‚  â€¢ Papers with 1 dominant disease â–¶ <strong>1 PRIMARY</strong> (use for feature analysis)    â”‚
â”‚  â€¢ Papers with 2-3 comparable diseases â–¶ <strong>2-3 PRIMARY</strong> (exclude or compare)   â”‚
â”‚  â€¢ Multi-disease papers correctly identified and handled appropriately      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      \textbf{     WRONG vs RIGHT APPROACH      }                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  âŒ \textbf{WRONG:} Force max_primary=1                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  â€¢ Every paper gets exactly \textbf{1 PRIMARY  }                                     â”‚
â”‚  â€¢ Multi-disease papers incorrectly labelled as single-disease              â”‚
â”‚  â€¢ Feature attribution becomes polluted                                     â”‚
â”‚  â€¢ Scientific validity compromised                                          â”‚
â”‚                                                                             â”‚
â”‚  âœ… \textbf{RIGHT:} Allow natural emergence                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  â€¢ Let scoring reveal paper's true disease focus                            â”‚
â”‚  â€¢ Papers with 1 dominant disease â–¶ \textbf{1 PRIMARY} (use for feature analysis)    â”‚
â”‚  â€¢ Papers with 2-3 comparable diseases â–¶ \textbf{2-3 PRIMARY} (exclude or compare)   â”‚
â”‚  â€¢ Multi-disease papers correctly identified and handled appropriately      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

\end{Verbatim}
~~~




---


## 2. Pipeline Architecture


### 2.1 High-Level Flow




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 <strong>        NER PIPELINE ARCHITECTURE         </strong>                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                  <strong>paper.json</strong>                                 
                                      â”‚
                                      â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  <strong> EXTRACTION ZONES </strong>     â”‚
                          â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                          â”‚   â€¢ title               â”‚
                          â”‚   â€¢ abstract            â”‚
                          â”‚   (body excluded for    â”‚
                          â”‚    title/abstract-only  â”‚
                          â”‚    NER mode)            â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                   â”‚                   â”‚
                  â–¼                   â–¼                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          <strong>â”‚    BERN2      â”‚   â”‚    GLiNER     â”‚   â”‚  PubMedBERT   â”‚</strong>
          â”‚   (ANCHOR)    â”‚   â”‚  (WITNESS)    â”‚   â”‚   (WITNESS)   â”‚
          â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
          â”‚ <strong>min_conf</strong>=0.5  â”‚   â”‚ <strong>min_conf</strong>=0.5  â”‚   â”‚ <strong>min_conf</strong>=0.5  â”‚
          â”‚<strong> Precision:    â”‚   â”‚ Precision:    â”‚   â”‚ Precision:</strong>    â”‚
          â”‚ Very High     â”‚   â”‚ Good          â”‚   â”‚ Very High     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                   â”‚                   â”‚
                  â”‚                   â”‚                   â”‚
                  â–¼                   â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            <strong>    DISEASE MENTIONS (RAW)   </strong>                â”‚
         â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
         â”‚  <strong>Each model produces separate rows with:</strong><strong> </strong>               â”‚
         â”‚  â€¢ <strong>text_span:</strong> &quot;Type 2 Diabetes&quot;                         â”‚
         â”‚  â€¢ <strong>source_type:</strong> &quot;title&quot; | &quot;abstract&quot;                    â”‚
         â”‚  â€¢ <strong>confidence:</strong> 0.5 - 1.0                                â”‚
         â”‚  â€¢ <strong>word_token_ids:</strong> [provenance for matching]            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         <strong>  CUI NORMALIZATION (SapBERT + FAISS)  </strong>         â”‚
         â”‚           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
         â”‚  <strong>Maps text spans to UMLS Concept Unique Identifiers</strong>     â”‚
         â”‚                                                         â”‚
         â”‚  &quot;Type 2 Diabetes&quot; â–¶ CUI: MESH:D003924                  â”‚
         â”‚  &quot;T2DM&quot;            â–¶ CUI: MESH:D003924  <strong>(same!)</strong>         â”‚
         â”‚  &quot;diabetes&quot;        â–¶ CUI: MESH:D003920  (parent)        â”‚
         â”‚                                                         â”‚
         â”‚  + sapbert_similarity score (0.0 - 1.0)                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             <strong>   MONDO DISEASE VALIDATION   </strong>              â”‚
         â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
         â”‚  <strong>Maps MeSH CUIs to MONDO ontology identifiers:</strong>          â”‚
         â”‚                                                         â”‚
         â”‚  <strong>MESH:</strong>D003924 â–¶ <strong>MONDO:</strong>0005148 (type 2 diabetes) âœ“ <strong>KEEP</strong>  â”‚
         â”‚  <strong>MESH:</strong>C536369 â–¶ <strong>[no mapping]</strong> âœ— DISCARD                  â”‚
         â”‚                                                         â”‚
         â”‚  Filters non-diseases: symptoms, findings, anatomical   â”‚
         â”‚  categories that MeSH indexes but MONDO excludes        â”‚
         â”‚                                                         â”‚
         â”‚ <strong> +</strong> Normalizes to depth (3-4) for consistent grouping    â”‚
         â”‚  <strong>+</strong> Adds preferred_name from MONDO                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚                            
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            <strong>  WITNESS MERGING (NEW STEP)     </strong>            â”‚
         â”‚              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
         â”‚  Matches BERN2 mentions with GLiNER/PubMedBERT by       â”‚
         â”‚  word_token_ids overlap:                                â”‚
         â”‚                                                         â”‚
         â”‚  <strong>BERN2:</strong> &quot;type 2 diabetes&quot; @ tokens [5,6,7]              â”‚
         â”‚  <strong>GLiNER:</strong> &quot;type 2 diabetes&quot; @ tokens [5,6,7] â—„ <strong>MATCH!</strong>    â”‚
         â”‚                                                         â”‚
         â”‚  Result: BERN2 mention gets witness_gliner=True         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             <strong>   DISEASE RANKING &amp; SCORING   </strong>             â”‚
        â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
        â”‚      Aggregates mentions by CUI, computes scores,       â”‚
        â”‚    assignsğŸ¥‡<strong>PRIMARY </strong>/ ğŸ¥ˆ<strong>SECONDARY</strong> / INCIDENTAL roles    â”‚
        â”‚                                                         â”‚
        â”‚     (See Section 3 for detailed scoring formula)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               <strong>  PAPER DISEASE RANKING  </strong>                 â”‚
        â”‚                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
        â”‚                                                         â”‚
        â”‚  <strong>doc_id:</strong> &quot;2024_Smith_12345&quot;                             â”‚
        â”‚  â”œâ”€â”€ <strong>PRIMARY:</strong>   Type 2 Diabetes  (score: 432.5)         â”‚
        â”‚  â”œâ”€â”€ <strong>SECONDARY:</strong> Obesity          (score: 18.2)          â”‚
        â”‚  â””â”€â”€ <strong>INCIDENTAL:</strong> Hypertension    (score: 5.4)           â”‚
        â”‚                                                         â”‚
        â”‚  This paper has <strong>1 PRIMARY</strong> â–¶ <strong>USABLE</strong> for feature analysis â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 \textbf{        NER PIPELINE ARCHITECTURE         }                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                  \textbf{paper.json}                                 
                                      â”‚
                                      â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  \textbf{ EXTRACTION ZONES }     â”‚
                          â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                          â”‚   â€¢ title               â”‚
                          â”‚   â€¢ abstract            â”‚
                          â”‚   (body excluded for    â”‚
                          â”‚    title/abstract-only  â”‚
                          â”‚    NER mode)            â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                   â”‚                   â”‚
                  â–¼                   â–¼                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          \textbf{â”‚    BERN2      â”‚   â”‚    GLiNER     â”‚   â”‚  PubMedBERT   â”‚}
          â”‚   (ANCHOR)    â”‚   â”‚  (WITNESS)    â”‚   â”‚   (WITNESS)   â”‚
          â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
          â”‚ \textbf{min_conf}=0.5  â”‚   â”‚ \textbf{min_conf}=0.5  â”‚   â”‚ \textbf{min_conf}=0.5  â”‚
          â”‚\textbf{ Precision:    â”‚   â”‚ Precision:    â”‚   â”‚ Precision:}    â”‚
          â”‚ Very High     â”‚   â”‚ Good          â”‚   â”‚ Very High     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                   â”‚                   â”‚
                  â”‚                   â”‚                   â”‚
                  â–¼                   â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            \textbf{    DISEASE MENTIONS (RAW)   }                â”‚
         â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
         â”‚  \textbf{Each model produces separate rows with:}\textbf{ }               â”‚
         â”‚  â€¢ \textbf{text_span:} "Type 2 Diabetes"                         â”‚
         â”‚  â€¢ \textbf{source_type:} "title" | "abstract"                    â”‚
         â”‚  â€¢ \textbf{confidence:} 0.5 - 1.0                                â”‚
         â”‚  â€¢ \textbf{word_token_ids:} [provenance for matching]            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         \textbf{  CUI NORMALIZATION (SapBERT + FAISS)  }         â”‚
         â”‚           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
         â”‚  \textbf{Maps text spans to UMLS Concept Unique Identifiers}     â”‚
         â”‚                                                         â”‚
         â”‚  "Type 2 Diabetes" â–¶ CUI: MESH:D003924                  â”‚
         â”‚  "T2DM"            â–¶ CUI: MESH:D003924  \textbf{(same!)}         â”‚
         â”‚  "diabetes"        â–¶ CUI: MESH:D003920  (parent)        â”‚
         â”‚                                                         â”‚
         â”‚  + sapbert_similarity score (0.0 - 1.0)                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             \textbf{   MONDO DISEASE VALIDATION   }              â”‚
         â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
         â”‚  \textbf{Maps MeSH CUIs to MONDO ontology identifiers:}          â”‚
         â”‚                                                         â”‚
         â”‚  \textbf{MESH:}D003924 â–¶ \textbf{MONDO:}0005148 (type 2 diabetes) âœ“ \textbf{KEEP}  â”‚
         â”‚  \textbf{MESH:}C536369 â–¶ \textbf{[no mapping]} âœ— DISCARD                  â”‚
         â”‚                                                         â”‚
         â”‚  Filters non-diseases: symptoms, findings, anatomical   â”‚
         â”‚  categories that MeSH indexes but MONDO excludes        â”‚
         â”‚                                                         â”‚
         â”‚ \textbf{ +} Normalizes to depth (3-4) for consistent grouping    â”‚
         â”‚  \textbf{+} Adds preferred_name from MONDO                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚                            
                                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            \textbf{  WITNESS MERGING (NEW STEP)     }            â”‚
         â”‚              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
         â”‚  Matches BERN2 mentions with GLiNER/PubMedBERT by       â”‚
         â”‚  word_token_ids overlap:                                â”‚
         â”‚                                                         â”‚
         â”‚  \textbf{BERN2:} "type 2 diabetes" @ tokens [5,6,7]              â”‚
         â”‚  \textbf{GLiNER:} "type 2 diabetes" @ tokens [5,6,7] â—„ \textbf{MATCH!}    â”‚
         â”‚                                                         â”‚
         â”‚  Result: BERN2 mention gets witness_gliner=True         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             \textbf{   DISEASE RANKING & SCORING   }             â”‚
        â”‚                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
        â”‚      Aggregates mentions by CUI, computes scores,       â”‚
        â”‚    assignsğŸ¥‡\textbf{PRIMARY }/ ğŸ¥ˆ\textbf{SECONDARY} / INCIDENTAL roles    â”‚
        â”‚                                                         â”‚
        â”‚     (See Section 3 for detailed scoring formula)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               \textbf{  PAPER DISEASE RANKING  }                 â”‚
        â”‚                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
        â”‚                                                         â”‚
        â”‚  \textbf{doc_id:} "2024_Smith_12345"                             â”‚
        â”‚  â”œâ”€â”€ \textbf{PRIMARY:}   Type 2 Diabetes  (score: 432.5)         â”‚
        â”‚  â”œâ”€â”€ \textbf{SECONDARY:} Obesity          (score: 18.2)          â”‚
        â”‚  â””â”€â”€ \textbf{INCIDENTAL:} Hypertension    (score: 5.4)           â”‚
        â”‚                                                         â”‚
        â”‚  This paper has \textbf{1 PRIMARY} â–¶ \textbf{USABLE} for feature analysis â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

\end{Verbatim}
~~~




---


## 3. Scoring Formula (The Heart of the System)


### 3.1 The Complete Scoring Equation


Prior to scoring, MeSH disease descriptors are validated against MONDO (Monarch Disease Ontology, release v2024-XX-XX). Mentions mapping to MONDO identifiers are retained; unmapped mentions, predominantly symptoms, clinical findings, and anatomical categories, are discarded. Retained diseases are normalized to MONDO hierarchy depth 3-4 to ensure consistent granularity across papers.







MeSH descriptors from UMLS 2021AB, via Bern 2, were mapped to MONDO release v2024-XX-XX. This cross-version mapping is valid because MeSH descriptor identifiers are persistent across versions, and MONDO maintains backward-compatible cross-references to historical MeSH content. Using the most recent MONDO release incorporates improved disease classification and expanded coverage while remaining compatible with older MeSH vocabularies.









~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         <strong>  DISEASE SCORING FORMULA </strong>                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  For each disease d in paper p, sum up the contribution from every          â”‚
â”‚  mention of that disease:                                                   â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚    <strong>score(d, p) = SUM over all mentions m of:</strong>                                â”‚
â”‚                                                                             â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚        â”‚  <strong>(1) Zone Weight </strong>        Where was it mentioned?            â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         title=15, abstract=5, body=1       â”‚      â”‚
â”‚        â”‚                                                             â”‚      â”‚
â”‚        â”‚  (<strong>2) Witness Bonuses </strong>    Did other models confirm it?       â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     +1.0 for each confirming model     â”‚      â”‚
â”‚        â”‚                                                             â”‚      â”‚
â”‚        â”‚  <strong>(3) Confidence Bonus</strong>    How confident was the extraction?  â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    confidence Ã— 0.5                   â”‚      â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚    <strong>score(d,p) = Î£ [ w_zone(m) + Î£(witness_bonus) + confidence(m)Ã—0.5 ]</strong>      â”‚
â”‚                <strong>mâˆˆM </strong>                                                         â”‚
â”‚                                                                             â”‚
â”‚  <strong>Definitions: </strong>                                                              â”‚
â”‚    <strong>M </strong>          = all mentions of disease d in paper p                       â”‚
â”‚    <strong>w_zone(m)</strong>   = weight based on where mention appears (title/abstract)     â”‚
â”‚    <strong>witness</strong>     = confirmation from GLiNER or PubMedBERT (+1.0 each)         â”‚
â”‚    <strong>confidence</strong>  = BERN2&#39;s extraction confidence (0.0 to 1.0)                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         \textbf{  DISEASE SCORING FORMULA }                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  For each disease d in paper p, sum up the contribution from every          â”‚
â”‚  mention of that disease:                                                   â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚    \textbf{score(d, p) = SUM over all mentions m of:}                                â”‚
â”‚                                                                             â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚        â”‚  \textbf{(1) Zone Weight }        Where was it mentioned?            â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         title=15, abstract=5, body=1       â”‚      â”‚
â”‚        â”‚                                                             â”‚      â”‚
â”‚        â”‚  (\textbf{2) Witness Bonuses }    Did other models confirm it?       â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     +1.0 for each confirming model     â”‚      â”‚
â”‚        â”‚                                                             â”‚      â”‚
â”‚        â”‚  \textbf{(3) Confidence Bonus}    How confident was the extraction?  â”‚      â”‚
â”‚        â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    confidence Ã— 0.5                   â”‚      â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚    \textbf{score(d,p) = Î£ [ w_zone(m) + Î£(witness_bonus) + confidence(m)Ã—0.5 ]}      â”‚
â”‚                \textbf{mâˆˆM }                                                         â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Definitions: }                                                              â”‚
â”‚    \textbf{M }          = all mentions of disease d in paper p                       â”‚
â”‚    \textbf{w_zone(m)}   = weight based on where mention appears (title/abstract)     â”‚
â”‚    \textbf{witness}     = confirmation from GLiNER or PubMedBERT (+1.0 each)         â”‚
â”‚    \textbf{confidence}  = BERN2's extraction confidence (0.0 to 1.0)                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

\end{Verbatim}
~~~




### 3.2 Score Calculation


$$
\text{score}(d, p) = \sum_{m \in M} \left[ w_{\text{zone}}(m) + \sum_{k \in K} \mathbb{1}[\text{witness}_k(m)] \cdot b_k + \text{clamp}(c_m, 0, 1) \cdot \lambda \right]
$$


$$
\begin{aligned}
M &= \text{all mentions of disease } d \text{ in paper } p \\
w_{zone}(m) &= \text{zone weight (title: 15, abstract: 5, body: 1)} \\
K &= \{\text{GLiNER, PubMedBERT}\} \\
b_k &= \text{witness bonus (1.0 per confirming model)} \\
c_m &= \text{BERN2 confidence score} \\
\lambda &= \text{confidence multiplier (0.5)}
\end{aligned}
$$


### 3.2.1 Step 1: The Overall Structure


$$
score(d, p) = \sum_{m \in M} S_m
$$


Explained: The total score for disease d in paper p is the sum of individual scores from every mention of that disease.



Definition:


- $M$= the set of all mentions of disease _d_ found in paper _p_
- $m$ = one individual mention (e.g., "Type 2 Diabetes" appearing in the title)





---


### 3.2.2 Step 2: What Each Mention Contributes


$$
S_m = W_m + B_m + C_m
$$


Explained: Each mention contributes three things: where it appeared, whether other models agreed, and how confident the extraction was.







---


### 3.2.3 Step 3: Zone Score (Where Was It Mentioned?)


$$
W_m = w_{zone}(m)
$$


Explained Mentions in important locations score higher.



Values:




<table>
  <thead>
    <tr>
      <th><strong>Location</strong></th>
      <th><strong>Weight</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Title</strong></td>
      <td>15.0</td>
    </tr>
    <tr>
      <td><strong>Abstract</strong></td>
      <td>5.0</td>
    </tr>
    <tr>
      <td><strong>Section header</strong></td>
      <td>3.0</td>
    </tr>
    <tr>
      <td><strong>Body text</strong></td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>



---


### 3.2.4 Step 4: Witness Score (Did Other Models Agree?)


$$
B_m = \sum_{k \in K} \mathbb{1}[witness_k(m)] \cdot b_k
$$


Explained: Add a bonus for each independent NER model that confirmed the same mention.



Definitions:


- $K$ = {GLiNER, PubMedBERT} â€” the two witness models
- $ğŸ™[witness_k(m)]$ = 1 if model _k_ confirmed mention _m_, otherwise 0
- $b_k$ = bonus value (currently 1.0 for each model)





Example: If both GLiNER and PubMedBERT confirm a mention: (1Ã—1.0) + (1Ã—1.0) = 2.0







---


### 3.2.5 Step 5: Confidence Score (How Certain Was the Extraction?)


$$
C_m = clamp(c_m, 0, 1) \times \lambda
$$


Explained: The anchor model's confidence adds a small bonus, scaled by a multiplier.



Definitions:


- $c_m$ = BERN2's confidence score for mention _m_ (typically 0.5 to 1.0)
- $clamp(c_m, 0, 1)$ = ensures confidence stays between 0 and 1
- $Î»$ = confidence multiplier (currently 0.5)

Example: If BERN2 confidence is 0.92: 0.92 Ã— 0.5 = 0.46



---


### 3.2.6 Complete Expanded Form


$$
\text{score}(d, p) = \sum_{m \in M} \left[ \underbrace{w_{\text{zone}}(m)}_{\text{location}} + \underbrace{\sum_{k \in K} \mathbb{1}[\text{witness}_k(m)] \cdot b_k}_{\text{model agreement}} + \underbrace{\text{clamp}(c_m, 0, 1) \cdot \lambda}_{\text{confidence}} \right]
$$


### 3.2.7 Quick Reference Card



<table>
  <thead>
    <tr>
      <th><strong>Component</strong></th>
      <th><strong>Symbol</strong></th>
      <th><strong>What It Measures</strong></th>
      <th><strong>Typical Range</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Zone weight</td>
      <td>W_{zone}(m)</td>
      <td>Location importance</td>
      <td>1.0 â€“ 15.0</td>
    </tr>
    <tr>
      <td>Witness bonus</td>
      <td>\sum b_k</td>
      <td>Model agreement</td>
      <td>0.0 â€“ 2.0</td>
    </tr>
    <tr>
      <td>Confidence bonus</td>
      <td>c_m \times \lambda</td>
      <td>Extraction certainty</td>
      <td>0.0 â€“ 0.5</td>
    </tr>
    <tr>
      <td><strong>Per-mention total</strong></td>
      <td></td>
      <td></td>
      <td><strong>1.0 â€“ 17.5</strong></td>
    </tr>
  </tbody>
</table>







---


### 3.3 Lineage Aggregation


After scoring individual diseases, we face a grouping problem: related diseases at different specificity levels (e.g., "diabetes mellitus" and "T2DM") may both appear in the same paper. Rather than reporting both, we aggregate them into a single representative.







### 3.3.1 Step 1: Define the Lineage


$$
L = \{d_1, d_2, \ldots, d_n\}
$$


Explained: A lineage is a set of MONDO disease IDs that belong to the same branch of the ontology tree, essentially, different specificity levels of the same concept.







Example: For diabetes-related mentions:


- MONDO:0005015 (diabetes mellitus) â†’ the ancestor
- MONDO:0005148 (type 2 diabetes mellitus) â†’ more specific
- MONDO:0007455 (maturity-onset diabetes of the young) â†’ even more specific

All three would form one lineage L.







### 3.3.2 Step 2: Calculate Lineage Score


$$
\text{lineage\_score}(L, p) = \sum_{d \in L} \text{score}(d, p)
$$


Explained: The lineage score is simply the sum of individual disease scores for all members of that lineage within paper p.



Definitions:


- $L$ = the set of related MONDO IDs (the lineage)
- $\text{score}(d, p)$ = the per-disease score calculated in Section 3.2
- $p$ = the paper being analyzed

Example: If a paper mentions:


- "diabetes" 3 times (score = 12.4)
- "T2DM" 5 times (score = 28.6)

Then: \text{lineage\_score}(L, p) = 12.4 + 28.6 = 41.0







### 3.3.3 Step 3: Select the Representative


$$
\text{representative}(L) = \underset{d \in L}{\arg\max} \; \text{score}(d, p)
$$


Explained: The representative is whichever disease in the lineage had the highest individual score. This disease "inherits" the combined lineage score.



Key insight: Depth in the ontology doesn't determine importance, evidence does. If the author mentions "T2DM" five times and "diabetes" once, T2DM is the focus. The existing scoring (zone + witness + confidence) already captures this.



Example (continued):


- "diabetes" score: 12.4
- "T2DM" score: 28.6

Representative = T2DM (highest score)
Final reported: T2DM with lineage score 41.0







### 3.3.4 Tie-Breaking by Depth


When two diseases in the same lineage have identical scores, prefer the more specific term (deeper in the ontology):



$$
\text{representative}(L) = \underset{d \in L}{\arg\max} \left( \text{score}(d, p), \; -\text{depth}(d) \right)
$$


Rationale: If evidence is equal, broader terms increase the likelihood of matching across papers that may describe the same condition at different specificity levels. This maximizes cohort size for downstream feature set comparisons.







### 3.3.5 Summary: The Complete Pipeline



<table>
  <thead>
    <tr>
      <th><strong>Stage</strong></th>
      <th><strong>What Happens</strong></th>
      <th><strong>Output</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Mention scoring</strong></td>
      <td>Each mention contributes zone + witness + confidence</td>
      <td>Per-mention scores</td>
    </tr>
    <tr>
      <td><strong>Disease scoring</strong></td>
      <td>Sum all mentions per disease</td>
      <td>\text{score}(d, p)</td>
    </tr>
    <tr>
      <td><strong>Lineage grouping</strong></td>
      <td>Group related MONDO IDs by ancestry</td>
      <td>Lineages L</td>
    </tr>
    <tr>
      <td><strong>Lineage scoring</strong></td>
      <td>Sum scores across lineage members</td>
      <td>\text{lineage\_score}(L, p)</td>
    </tr>
    <tr>
      <td><strong>Representative selection</strong></td>
      <td>Pick highest-scoring member; if tied, prefer shallower (broader) term</td>
      <td>Final disease + aggregated score</td>
    </tr>
  </tbody>
</table>







---


### 3.3 Current Configuration Values


From config/resources.yaml:





~~~{=html}
<pre class="notion-ascii-diagram"><code>Yaml

disease_ranking:
<strong>  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ZONE WEIGHTS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Higher weight = stronger signal that paper is ABOUT this disease</strong>
  zone_weights:
    title: 15.0         <strong># Disease in title is strongest signal</strong>
    abstract: 5.0       <strong># Disease in abstract is strong signal</strong>
    section_header: 3.0 <strong># Disease in section headers (if extracted)</strong>
    body: 1.0           <strong># Disease in body text (not currently extracted)</strong>

  <strong># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # WITNESS BONUSES
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Bonus added when multiple NER models agree on the same span</strong>
  witness_bonus:
    bern2: 0.0           <strong># No bonus for anchor (always present)</strong>
    gliner: 1.0         <strong> # +1.0 if GLiNER confirmed the mention</strong>
    pubmedbert_ner: 1.0  <strong># +1.0 if PubMedBERT confirmed the mention</strong>

  <strong># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # CONFIDENCE BONUS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</strong>
  confidence_bonus:
    field: &quot;bern2_confidence&quot;  <strong># Use anchor model&#39;s confidence</strong>
    multiplier: 0.5            <strong># Confidence contributes moderately</strong>
    clamp_min: 0.0
    clamp_max: 1.0

  <strong># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ROLE THRESHOLDS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</strong>
  thresholds:
    primary_min_score: 18.0        <strong># Minimum score to be PRIMARY</strong>
    secondary_min_score: 6.0       <strong># Minimum score to be SECONDARY</strong>
    min_distinct_line_token_ids: 2 <strong># Must appear on â‰¥2 different lines</strong>
    min_distinct_pages: 1          <strong># Must appear on â‰¥1 page</strong>

  <strong># â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ROLE LIMITS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</strong>
  max_primary: 3          <strong># Allow up to 3 PRIMARY (natural emergence)</strong>
  allow_no_primary: true  <strong># Some papers may have no qualifying disease</strong>
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
Yaml

disease_ranking:
\textbf{  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ZONE WEIGHTS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Higher weight = stronger signal that paper is ABOUT this disease}
  zone_weights:
    title: 15.0         \textbf{# Disease in title is strongest signal}
    abstract: 5.0       \textbf{# Disease in abstract is strong signal}
    section_header: 3.0 \textbf{# Disease in section headers (if extracted)}
    body: 1.0           \textbf{# Disease in body text (not currently extracted)}

  \textbf{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # WITNESS BONUSES
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Bonus added when multiple NER models agree on the same span}
  witness_bonus:
    bern2: 0.0           \textbf{# No bonus for anchor (always present)}
    gliner: 1.0         \textbf{ # +1.0 if GLiNER confirmed the mention}
    pubmedbert_ner: 1.0  \textbf{# +1.0 if PubMedBERT confirmed the mention}

  \textbf{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # CONFIDENCE BONUS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•}
  confidence_bonus:
    field: "bern2_confidence"  \textbf{# Use anchor model's confidence}
    multiplier: 0.5            \textbf{# Confidence contributes moderately}
    clamp_min: 0.0
    clamp_max: 1.0

  \textbf{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ROLE THRESHOLDS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•}
  thresholds:
    primary_min_score: 18.0        \textbf{# Minimum score to be PRIMARY}
    secondary_min_score: 6.0       \textbf{# Minimum score to be SECONDARY}
    min_distinct_line_token_ids: 2 \textbf{# Must appear on â‰¥2 different lines}
    min_distinct_pages: 1          \textbf{# Must appear on â‰¥1 page}

  \textbf{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ROLE LIMITS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•}
  max_primary: 3          \textbf{# Allow up to 3 PRIMARY (natural emergence)}
  allow_no_primary: true  \textbf{# Some papers may have no qualifying disease}

\end{Verbatim}
~~~




### 3.3 Worked Example: Single-Disease Paper




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      <strong>     EXAMPLE: Paper &quot;Glucose control in Type 2 Diabetes&quot;     </strong>          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                       <strong> 1.RAW MENTIONS EXTRACTED:</strong>                            â”‚
â”‚                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                            â”‚
â”‚                                                                             â”‚
â”‚  <strong>mention_1:</strong> &quot;Type 2 Diabetes&quot; in <strong>TITLE </strong>                                     â”‚
â”‚             extracted_by: bern2, confidence: 0.98                           â”‚
â”‚             witness_gliner: True, witness_pubmedbert: True                  â”‚
â”‚             â†’ CUI: MESH:D003924                                             â”‚
â”‚                                                                             â”‚
â”‚  <strong>mention_2:</strong> &quot;Type 2 Diabetes&quot; in <strong>ABSTRACT (line 1) </strong>                         â”‚
â”‚             extracted_by: bern2, confidence: 0.95                           â”‚
â”‚             witness_gliner: True, witness_pubmedbert: False                 â”‚
â”‚             â†’ CUI: MESH:D003924                                             â”‚
â”‚                                                                             â”‚
â”‚  <strong>mention_3:</strong> &quot;T2DM&quot; in <strong>ABSTRACT (line 5) </strong>                                    â”‚
â”‚             extracted_by: bern2, confidence: 0.92                           â”‚
â”‚             witness_gliner: False, witness_pubmedbert: True                 â”‚
â”‚             â†’ CUI: MESH:D003924 (same CUI!)                                 â”‚
â”‚                                                                             â”‚
â”‚  <strong>mention_4:</strong> &quot;diabetes&quot; in <strong>ABSTRACT (line 8)</strong>                                 â”‚
â”‚             extracted_by: bern2, confidence: 0.88                           â”‚
â”‚             witness_gliner: False, witness_pubmedbert: False                â”‚
â”‚             â†’ CUI: MESH:D003920 (different - parent concept)                â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                        <strong>  2.MONDO NORMALIZATION:</strong>                             â”‚
â”‚                          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚
â”‚                                                                             â”‚
â”‚<strong>  Step 1: Map MeSH â–¶ MONDO </strong>                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  MESH:D003924 â–¶ MONDO:0005148 (type 2 diabetes mellitus)    depth 3         â”‚
â”‚  MESH:D003920 â–¶ MONDO:0005015 (diabetes mellitus)           depth 2         â”‚
â”‚                                                                             â”‚
â”‚  <strong>Step 2: Get ancestor chains   </strong>                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  <strong>MONDO:0005148 chain:</strong> [0005148, 0005015, 0005066, 0000001]                  â”‚
â”‚                        (T2DM â†’ diabetes â†’ metabolic â†’ disease)              â”‚
â”‚                                                                             â”‚
â”‚  <strong>MONDO:0005015 chain:</strong> [0005015, 0005066, 0000001]                           â”‚
â”‚                        (diabetes â†’ metabolic â†’ disease)                     â”‚
â”‚                                                                             â”‚
â”‚  <strong>Step 3: Detect parent-child relationship </strong>                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚  MONDO:0005015 appears in ancestor chain of MONDO:0005148                   â”‚
â”‚  â–¶ &quot;diabetes&quot; (mention_4) is PARENT of &quot;Type 2 Diabetes&quot;                    â”‚
â”‚                                                                             â”‚
â”‚ <strong> Step 4: Resolve by lineage aggregation </strong>                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚  MONDO:0005148 has 3 mentions (score: 30.43)                                â”‚
â”‚  MONDO:0005015 has 1 mention  (score: 5.44)                                 â”‚
â”‚  â–¶ Parent mention absorbed into child: mention_4 â–¶ MONDO:0005148            â”‚
â”‚                                                                             â”‚
â”‚  <strong>Step 5: Final normalized mapping </strong>                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  mention_1 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_2 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_3 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_4 â–¶ MONDO:0005148 (type 2 diabetes mellitus) â—€ <strong>LINAGE AGGREGATE    </strong>â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
<strong>â”‚                   3.AGGREGATION BY NORMALIZED MONDO ID:      </strong>               â”‚
â”‚                   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚ 
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <strong>MONDO:0005148 (Type 2 Diabetes Mellitus) </strong>                             â”‚  â”‚
â”‚  â”‚ <strong>Mentions:</strong> 4 (all mentions now unified)                                â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>SCORE CALCULATION:</strong>                                                    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>mention_1 (TITLE): </strong>                                                   â”‚  â”‚
â”‚  â”‚   zone_weight[title]           = 15.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +1.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +1.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.98 Ã— 0.5 = +0.49                  â”‚  â”‚
â”‚  â”‚ <strong>  SUBTOTAL                     = 17.49          </strong>                      â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>mention_2 (ABSTRACT):</strong>                                                 â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +1.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +0.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.95 Ã— 0.5 = +0.475                 â”‚  â”‚
â”‚  â”‚  <strong> SUBTOTAL                     =  6.475       </strong>                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>mention_3 (ABSTRACT):</strong>                                                 â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +0.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +1.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.92 Ã— 0.5 = +0.46                  â”‚  â”‚
â”‚  â”‚   <strong>SUBTOTAL                     =  6.46   </strong>                             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>mention_4 (ABSTRACT, absorbed from parent): </strong>                          â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +0.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +0.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.88 Ã— 0.5 = +0.44                  â”‚  â”‚
â”‚  â”‚  <strong> SUBTOTAL                     =  5.44    </strong>                            â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚  â”‚
â”‚  â”‚ <strong>TOTAL SCORE = 17.49 + 6.475 + 6.46 + 5.44 = 35.865  </strong>                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚<strong> ROLE: PRIMARY (35.865 â‰¥ 18.0 threshold) âœ…   </strong>                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                      <strong> 4.FINAL RANKING FOR THIS PAPER:  </strong>                     â”‚
â”‚                       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <strong>PRIMARY:       Type 2 Diabetes Mellitus             Score: 35.87   </strong>   â”‚  â”‚
â”‚  â”‚                MESH:D003924 â–¶ MONDO:0005148                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚   <strong>     PAPER HAS 1 PRIMARY DISEASE â–¶ âœ… USABLE FOR FEATURE ANALYSIS    </strong>     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      \textbf{     EXAMPLE: Paper "Glucose control in Type 2 Diabetes"     }          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                       \textbf{ 1.RAW MENTIONS EXTRACTED:}                            â”‚
â”‚                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                            â”‚
â”‚                                                                             â”‚
â”‚  \textbf{mention_1:} "Type 2 Diabetes" in \textbf{TITLE }                                     â”‚
â”‚             extracted_by: bern2, confidence: 0.98                           â”‚
â”‚             witness_gliner: True, witness_pubmedbert: True                  â”‚
â”‚             â†’ CUI: MESH:D003924                                             â”‚
â”‚                                                                             â”‚
â”‚  \textbf{mention_2:} "Type 2 Diabetes" in \textbf{ABSTRACT (line 1) }                         â”‚
â”‚             extracted_by: bern2, confidence: 0.95                           â”‚
â”‚             witness_gliner: True, witness_pubmedbert: False                 â”‚
â”‚             â†’ CUI: MESH:D003924                                             â”‚
â”‚                                                                             â”‚
â”‚  \textbf{mention_3:} "T2DM" in \textbf{ABSTRACT (line 5) }                                    â”‚
â”‚             extracted_by: bern2, confidence: 0.92                           â”‚
â”‚             witness_gliner: False, witness_pubmedbert: True                 â”‚
â”‚             â†’ CUI: MESH:D003924 (same CUI!)                                 â”‚
â”‚                                                                             â”‚
â”‚  \textbf{mention_4:} "diabetes" in \textbf{ABSTRACT (line 8)}                                 â”‚
â”‚             extracted_by: bern2, confidence: 0.88                           â”‚
â”‚             witness_gliner: False, witness_pubmedbert: False                â”‚
â”‚             â†’ CUI: MESH:D003920 (different - parent concept)                â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                        \textbf{  2.MONDO NORMALIZATION:}                             â”‚
â”‚                          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚
â”‚                                                                             â”‚
â”‚\textbf{  Step 1: Map MeSH â–¶ MONDO }                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  MESH:D003924 â–¶ MONDO:0005148 (type 2 diabetes mellitus)    depth 3         â”‚
â”‚  MESH:D003920 â–¶ MONDO:0005015 (diabetes mellitus)           depth 2         â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Step 2: Get ancestor chains   }                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  \textbf{MONDO:0005148 chain:} [0005148, 0005015, 0005066, 0000001]                  â”‚
â”‚                        (T2DM â†’ diabetes â†’ metabolic â†’ disease)              â”‚
â”‚                                                                             â”‚
â”‚  \textbf{MONDO:0005015 chain:} [0005015, 0005066, 0000001]                           â”‚
â”‚                        (diabetes â†’ metabolic â†’ disease)                     â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Step 3: Detect parent-child relationship }                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚  MONDO:0005015 appears in ancestor chain of MONDO:0005148                   â”‚
â”‚  â–¶ "diabetes" (mention_4) is PARENT of "Type 2 Diabetes"                    â”‚
â”‚                                                                             â”‚
â”‚ \textbf{ Step 4: Resolve by lineage aggregation }                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚  MONDO:0005148 has 3 mentions (score: 30.43)                                â”‚
â”‚  MONDO:0005015 has 1 mention  (score: 5.44)                                 â”‚
â”‚  â–¶ Parent mention absorbed into child: mention_4 â–¶ MONDO:0005148            â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Step 5: Final normalized mapping }                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  mention_1 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_2 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_3 â–¶ MONDO:0005148 (type 2 diabetes mellitus)                       â”‚
â”‚  mention_4 â–¶ MONDO:0005148 (type 2 diabetes mellitus) â—€ \textbf{LINAGE AGGREGATE    }â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
\textbf{â”‚                   3.AGGREGATION BY NORMALIZED MONDO ID:      }               â”‚
â”‚                   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚ 
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ \textbf{MONDO:0005148 (Type 2 Diabetes Mellitus) }                             â”‚  â”‚
â”‚  â”‚ \textbf{Mentions:} 4 (all mentions now unified)                                â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{SCORE CALCULATION:}                                                    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{mention_1 (TITLE): }                                                   â”‚  â”‚
â”‚  â”‚   zone_weight[title]           = 15.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +1.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +1.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.98 Ã— 0.5 = +0.49                  â”‚  â”‚
â”‚  â”‚ \textbf{  SUBTOTAL                     = 17.49          }                      â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{mention_2 (ABSTRACT):}                                                 â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +1.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +0.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.95 Ã— 0.5 = +0.475                 â”‚  â”‚
â”‚  â”‚  \textbf{ SUBTOTAL                     =  6.475       }                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{mention_3 (ABSTRACT):}                                                 â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +0.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +1.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.92 Ã— 0.5 = +0.46                  â”‚  â”‚
â”‚  â”‚   \textbf{SUBTOTAL                     =  6.46   }                             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{mention_4 (ABSTRACT, absorbed from parent): }                          â”‚  â”‚
â”‚  â”‚   zone_weight[abstract]        =  5.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[gliner]        = +0.0                                 â”‚  â”‚
â”‚  â”‚   witness_bonus[pubmedbert]    = +0.0                                 â”‚  â”‚
â”‚  â”‚   confidence Ã— multiplier      =  0.88 Ã— 0.5 = +0.44                  â”‚  â”‚
â”‚  â”‚  \textbf{ SUBTOTAL                     =  5.44    }                            â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚  â”‚
â”‚  â”‚ \textbf{TOTAL SCORE = 17.49 + 6.475 + 6.46 + 5.44 = 35.865  }                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚\textbf{ ROLE: PRIMARY (35.865 â‰¥ 18.0 threshold) âœ…   }                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                      \textbf{ 4.FINAL RANKING FOR THIS PAPER:  }                     â”‚
â”‚                       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ \textbf{PRIMARY:       Type 2 Diabetes Mellitus             Score: 35.87   }   â”‚  â”‚
â”‚  â”‚                MESH:D003924 â–¶ MONDO:0005148                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚   \textbf{     PAPER HAS 1 PRIMARY DISEASE â–¶ âœ… USABLE FOR FEATURE ANALYSIS    }     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\end{Verbatim}
~~~




### 3.4 Worked Example: Multi-Disease Paper (Correctly Identified)




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      <strong>EXAMPLE: Paper &quot;Diabetes and Cardiovascular Disease: A Review&quot;    </strong>     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                       <strong> 1.RAW MENTIONS EXTRACTED:</strong>                            â”‚
â”‚                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                            â”‚                          
â”‚                                                                             â”‚
â”‚  <strong>mention_1: </strong>&quot;Diabetes&quot; in <strong>TITLE</strong>                 â–¶ MESH:D003920              â”‚
â”‚  <strong>mention_2:</strong> &quot;Diabetes&quot; in <strong>ABSTRACT Ã—3</strong>           â–¶ MESH:D003920              â”‚
â”‚  <strong>mention_3:</strong> &quot;Cardiovascular Disease&quot; in <strong>TITLE</strong>   â–¶ MESH:D002318              â”‚
â”‚  <strong>mention_4:</strong> &quot;CVD&quot; in <strong>ABSTRACT Ã—2 </strong>               â–¶ MESH:D002318              â”‚
â”‚  <strong>mention_5:</strong> &quot;hypertension&quot; in <strong>ABSTRACT Ã—1</strong>       â–¶ MESH:D006973              â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                        <strong>  2.MONDO NORMALIZATION:</strong>                             â”‚
â”‚                          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚
â”‚                                                                             â”‚
â”‚ <strong> Step 1: Map MeSH â†’ MONDO   </strong>                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  MESH:D003920 â–¶ MONDO:0005015 (diabetes mellitus)           depth 2         â”‚
â”‚  MESH:D002318 â–¶ MONDO:0004995 (cardiovascular disease)      depth 2         â”‚
â”‚  MESH:D006973 â–¶ MONDO:0001134 (hypertension)                depth 4         â”‚
â”‚                                                                             â”‚
â”‚  <strong>Step 2: Get ancestor chains  </strong>                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  <strong>MONDO:0005015 chain:</strong> [0005015, 0005066, 0000001]                           â”‚
â”‚                        (diabetes â–¶ metabolic disease â–¶ disease)             â”‚
â”‚                                                                             â”‚
â”‚  <strong>MONDO:0004995 chain:</strong> [0004995, 0000001]                                    â”‚
â”‚                        (cardiovascular disease â–¶ disease)                   â”‚
â”‚                                                                             â”‚
â”‚  <strong>MONDO:0001134 chain:</strong> [0001134, 0004995, 0000001]                           â”‚
â”‚                        (hypertension â–¶ cardiovascular â–¶ disease)            â”‚
â”‚                                                                             â”‚
â”‚  <strong>Step 3: Detect lineage relationships </strong>                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  â€¢ MONDO:0005015 (diabetes) - no overlap with others                        â”‚
â”‚  â€¢ MONDO:0004995 (cardiovascular) - PARENT of MONDO:0001134                 â”‚
â”‚  â€¢ MONDO:0001134 (hypertension) - CHILD of cardiovascular                   â”‚
â”‚                                                                             â”‚
â”‚ <strong> Step 4: Resolve parent-child within lineages   </strong>                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  <strong>Cardiovascular lineage:</strong>                                                    â”‚
â”‚    MONDO:0004995 has 3 mentions (title + 2 abstract)                        â”‚
â”‚    MONDO:0001134 has 1 mention  (abstract only)                             â”‚
â”‚    â–¶ hypertension is child but LOW evidence                                 â”‚
â”‚    â–¶ Keep separate: CVD is primary focus, hypertension incidental           â”‚
â”‚                                                                             â”‚
â”‚  Decision: Do NOT absorb hypertension into CVD                              â”‚
â”‚  <strong>(Parent is dominant, child is incidental mention)</strong>                          â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚  <strong>AGGREGATION BY NORMALIZED MONDO ID:</strong>                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ <strong> â”‚ MONDO:0005015 (Diabetes Mellitus)  </strong>                                   â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>Mentions: </strong>                                                            â”‚  â”‚
â”‚  â”‚   â€¢ &quot;Diabetes&quot; in <strong>TITLE</strong>           = 15.0 + 2.0 + 0.49 = <strong>17.49</strong>         â”‚  â”‚
â”‚  â”‚   â€¢ &quot;Diabetes&quot; in <strong>ABSTRACT Ã—3</strong>     = 3 Ã— (5.0 + 1.0 + 0.47) = <strong>19.41</strong>    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ <strong>TOTAL SCORE = 36.90 </strong>                                                  â”‚  â”‚
â”‚  â”‚ <strong>ROLE: PRIMARY âœ…    </strong>                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <strong>MONDO:0004995 (Cardiovascular Disease) </strong>                               â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>Mentions:</strong>                                                             â”‚  â”‚
â”‚  â”‚   â€¢ &quot;Cardiovascular Disease&quot; in <strong>TITLE</strong> = 15.0 + 2.0 + 0.48 = <strong>17.48</strong>     â”‚  â”‚
â”‚  â”‚   â€¢ &quot;CVD&quot; in <strong>ABSTRACT Ã—2</strong>              = 2 Ã— (5.0 + 1.0 + 0.46) = <strong>12.92</strong>â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ <strong>TOTAL SCORE = 30.40                                                   â”‚  â”‚
â”‚  â”‚ ROLE: PRIMARY âœ…   </strong>                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ <strong> â”‚ MONDO:0001134 (Hypertension) </strong>                                         â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>Mentions: </strong>                                                            â”‚  â”‚
â”‚  â”‚   â€¢ &quot;hypertension&quot; in <strong>ABSTRACT Ã—1</strong>     = 5.0 + 0.0 + 0.44 = <strong>5.44 </strong>      â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ <strong>TOTAL SCORE = 5.44                                                    â”‚  â”‚
â”‚  â”‚ ROLE: INCIDENTAL âšª      </strong>                                             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ <strong>NOTE:</strong> Child of MONDO:0004995 but kept separate because:               â”‚  â”‚
â”‚  â”‚ - Parent (CVD) is dominant with title mention                         â”‚  â”‚
â”‚  â”‚ - Child is incidental (single abstract mention, no witnesses)         â”‚  â”‚
â”‚  â”‚ - Absorbing would inflate CVD score inappropriately                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚<strong>  LINEAGE ANALYSIS SUMMARY:  </strong>                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                  â”‚
â”‚                                                                             â”‚
â”‚  <strong>Lineage 1: Metabolic diseases</strong>                                              â”‚
â”‚  â””â”€â”€ MONDO:0005015 (diabetes) â—€ <strong>PRIMARY</strong>                                     â”‚
â”‚                                                                             â”‚
â”‚  <strong>Lineage 2: Cardiovascular diseases </strong>                                        â”‚
â”‚  â”œâ”€â”€ MONDO:0004995 (cardiovascular disease) â—€ <strong>PRIMARY </strong>                      â”‚
â”‚  â””â”€â”€ MONDO:0001134 (hypertension) â—€ <strong>INCIDENTAL</strong>                              â”‚
â”‚                                                                             â”‚
â”‚  No cross-lineage overlap â–¶ Both primaries are legitimate                   â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚  <strong>FINAL RANKING FOR THIS PAPER: </strong>                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ <strong>PRIMARY:</strong>    Diabetes Mellitus              <strong>Score: 36.90 </strong>            â”‚    â”‚
â”‚  â”‚             MESH:D003920 â–¶ MONDO:0005015                            â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ <strong>PRIMARY:</strong>    Cardiovascular Disease         <strong>Score: 30.40</strong>             â”‚    â”‚
â”‚  â”‚             MESH:D002318 â–¶ MONDO:0004995                            â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ <strong>INCIDENTAL:</strong> Hypertension                   <strong>Score:  5.44</strong>             â”‚    â”‚
â”‚  â”‚             MESH:D006973 â–¶ MONDO:0001134                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
<strong>â”‚  PAPER HAS 2 PRIMARY DISEASES â–¶ âŒ EXCLUDE FROM SINGLE-DISEASE ANALYSIS</strong>     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                                                                             â”‚
â”‚  This paper is correctly identified as multi-disease.                       â”‚
â”‚  <strong>Diabetes</strong> and <strong>Cardiovascular Disease</strong> are in <strong>DIFFERENT </strong>lineages.             â”‚
â”‚  <strong>We do NOT force it to single-disease.</strong><strong> </strong>                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      \textbf{EXAMPLE: Paper "Diabetes and Cardiovascular Disease: A Review"    }     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                       \textbf{ 1.RAW MENTIONS EXTRACTED:}                            â”‚
â”‚                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                            â”‚                          
â”‚                                                                             â”‚
â”‚  \textbf{mention_1: }"Diabetes" in \textbf{TITLE}                 â–¶ MESH:D003920              â”‚
â”‚  \textbf{mention_2:} "Diabetes" in \textbf{ABSTRACT Ã—3}           â–¶ MESH:D003920              â”‚
â”‚  \textbf{mention_3:} "Cardiovascular Disease" in \textbf{TITLE}   â–¶ MESH:D002318              â”‚
â”‚  \textbf{mention_4:} "CVD" in \textbf{ABSTRACT Ã—2 }               â–¶ MESH:D002318              â”‚
â”‚  \textbf{mention_5:} "hypertension" in \textbf{ABSTRACT Ã—1}       â–¶ MESH:D006973              â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚                        \textbf{  2.MONDO NORMALIZATION:}                             â”‚
â”‚                          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                             â”‚
â”‚                                                                             â”‚
â”‚ \textbf{ Step 1: Map MeSH â†’ MONDO   }                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  MESH:D003920 â–¶ MONDO:0005015 (diabetes mellitus)           depth 2         â”‚
â”‚  MESH:D002318 â–¶ MONDO:0004995 (cardiovascular disease)      depth 2         â”‚
â”‚  MESH:D006973 â–¶ MONDO:0001134 (hypertension)                depth 4         â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Step 2: Get ancestor chains  }                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  \textbf{MONDO:0005015 chain:} [0005015, 0005066, 0000001]                           â”‚
â”‚                        (diabetes â–¶ metabolic disease â–¶ disease)             â”‚
â”‚                                                                             â”‚
â”‚  \textbf{MONDO:0004995 chain:} [0004995, 0000001]                                    â”‚
â”‚                        (cardiovascular disease â–¶ disease)                   â”‚
â”‚                                                                             â”‚
â”‚  \textbf{MONDO:0001134 chain:} [0001134, 0004995, 0000001]                           â”‚
â”‚                        (hypertension â–¶ cardiovascular â–¶ disease)            â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Step 3: Detect lineage relationships }                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  â€¢ MONDO:0005015 (diabetes) - no overlap with others                        â”‚
â”‚  â€¢ MONDO:0004995 (cardiovascular) - PARENT of MONDO:0001134                 â”‚
â”‚  â€¢ MONDO:0001134 (hypertension) - CHILD of cardiovascular                   â”‚
â”‚                                                                             â”‚
â”‚ \textbf{ Step 4: Resolve parent-child within lineages   }                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  \textbf{Cardiovascular lineage:}                                                    â”‚
â”‚    MONDO:0004995 has 3 mentions (title + 2 abstract)                        â”‚
â”‚    MONDO:0001134 has 1 mention  (abstract only)                             â”‚
â”‚    â–¶ hypertension is child but LOW evidence                                 â”‚
â”‚    â–¶ Keep separate: CVD is primary focus, hypertension incidental           â”‚
â”‚                                                                             â”‚
â”‚  Decision: Do NOT absorb hypertension into CVD                              â”‚
â”‚  \textbf{(Parent is dominant, child is incidental mention)}                          â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚  \textbf{AGGREGATION BY NORMALIZED MONDO ID:}                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ \textbf{ â”‚ MONDO:0005015 (Diabetes Mellitus)  }                                   â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{Mentions: }                                                            â”‚  â”‚
â”‚  â”‚   â€¢ "Diabetes" in \textbf{TITLE}           = 15.0 + 2.0 + 0.49 = \textbf{17.49}         â”‚  â”‚
â”‚  â”‚   â€¢ "Diabetes" in \textbf{ABSTRACT Ã—3}     = 3 Ã— (5.0 + 1.0 + 0.47) = \textbf{19.41}    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ \textbf{TOTAL SCORE = 36.90 }                                                  â”‚  â”‚
â”‚  â”‚ \textbf{ROLE: PRIMARY âœ…    }                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ \textbf{MONDO:0004995 (Cardiovascular Disease) }                               â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{Mentions:}                                                             â”‚  â”‚
â”‚  â”‚   â€¢ "Cardiovascular Disease" in \textbf{TITLE} = 15.0 + 2.0 + 0.48 = \textbf{17.48}     â”‚  â”‚
â”‚  â”‚   â€¢ "CVD" in \textbf{ABSTRACT Ã—2}              = 2 Ã— (5.0 + 1.0 + 0.46) = \textbf{12.92}â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ \textbf{TOTAL SCORE = 30.40                                                   â”‚  â”‚
â”‚  â”‚ ROLE: PRIMARY âœ…   }                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ \textbf{ â”‚ MONDO:0001134 (Hypertension) }                                         â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{Mentions: }                                                            â”‚  â”‚
â”‚  â”‚   â€¢ "hypertension" in \textbf{ABSTRACT Ã—1}     = 5.0 + 0.0 + 0.44 = \textbf{5.44 }      â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ \textbf{TOTAL SCORE = 5.44                                                    â”‚  â”‚
â”‚  â”‚ ROLE: INCIDENTAL âšª      }                                             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚ \textbf{NOTE:} Child of MONDO:0004995 but kept separate because:               â”‚  â”‚
â”‚  â”‚ - Parent (CVD) is dominant with title mention                         â”‚  â”‚
â”‚  â”‚ - Child is incidental (single abstract mention, no witnesses)         â”‚  â”‚
â”‚  â”‚ - Absorbing would inflate CVD score inappropriately                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚\textbf{  LINEAGE ANALYSIS SUMMARY:  }                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                  â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Lineage 1: Metabolic diseases}                                              â”‚
â”‚  â””â”€â”€ MONDO:0005015 (diabetes) â—€ \textbf{PRIMARY}                                     â”‚
â”‚                                                                             â”‚
â”‚  \textbf{Lineage 2: Cardiovascular diseases }                                        â”‚
â”‚  â”œâ”€â”€ MONDO:0004995 (cardiovascular disease) â—€ \textbf{PRIMARY }                      â”‚
â”‚  â””â”€â”€ MONDO:0001134 (hypertension) â—€ \textbf{INCIDENTAL}                              â”‚
â”‚                                                                             â”‚
â”‚  No cross-lineage overlap â–¶ Both primaries are legitimate                   â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                             â”‚
â”‚  \textbf{FINAL RANKING FOR THIS PAPER: }                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ \textbf{PRIMARY:}    Diabetes Mellitus              \textbf{Score: 36.90 }            â”‚    â”‚
â”‚  â”‚             MESH:D003920 â–¶ MONDO:0005015                            â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ \textbf{PRIMARY:}    Cardiovascular Disease         \textbf{Score: 30.40}             â”‚    â”‚
â”‚  â”‚             MESH:D002318 â–¶ MONDO:0004995                            â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ \textbf{INCIDENTAL:} Hypertension                   \textbf{Score:  5.44}             â”‚    â”‚
â”‚  â”‚             MESH:D006973 â–¶ MONDO:0001134                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
\textbf{â”‚  PAPER HAS 2 PRIMARY DISEASES â–¶ âŒ EXCLUDE FROM SINGLE-DISEASE ANALYSIS}     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                                                                             â”‚
â”‚  This paper is correctly identified as multi-disease.                       â”‚
â”‚  \textbf{Diabetes} and \textbf{Cardiovascular Disease} are in \textbf{DIFFERENT }lineages.             â”‚
â”‚  \textbf{We do NOT force it to single-disease.}\textbf{ }                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\end{Verbatim}
~~~




---


## 4. Role Assignment Decision Tree




~~~{=html}
<pre class="notion-ascii-diagram"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               <strong>         ROLE ASSIGNMENT DECISION TREE       </strong>                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              <strong>Disease d in Paper p</strong>
                                      â”‚
                                      â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       
                       â”‚ Compute aggregate score(d,p) â”‚
                       â”‚ across all mentions          â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ <strong>Check minimum evidence requirements: </strong>  â”‚
                  â”‚ â€¢ min_distinct_line_token_ids â‰¥ 2      â”‚
                  â”‚ â€¢ min_distinct_pages â‰¥ 1               â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                            â”‚
                    <strong>   PASS                         FAIL</strong>
                        â”‚                            â”‚
                        â–¼                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  <strong>score â‰¥ 18.0?</strong>    â”‚         <strong> â”‚  Skip disease  â”‚</strong>
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                   
                 â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          
                 â”‚                    â”‚        
                <strong>YES                   NO</strong>
                 â”‚                    â”‚
                 â–¼                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ <strong>PRIMARY count  â”‚  â”‚   score â‰¥ 6.0?    â”‚
        â”‚ &lt; max_primary?</strong> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”      â”‚                 â”‚
         â”‚              â”‚     <strong>YES                NO</strong>
  <strong>      YES             NO</strong>     â”‚                 â”‚
         â”‚              â”‚      â–¼                 â”‚
         â–¼              â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  <strong>â”‚ </strong>ğŸ¥‡<strong>PRIMARY  â”‚  â”‚</strong>ğŸ¥ˆ<strong>SECONDARY â”‚    â”‚    â”‚  INCIDENTAL  â”‚
  â””â”€â”€â”€â”€â”€â”€</strong>â”€â”€<strong>â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€</strong>â”€<strong>â”€â”€â”€â”€â”€â”€â”˜    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”Œâ”€â”€</strong>â”€<strong>â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                             â”‚</strong>ğŸ¥ˆ<strong>SECONDARY â”‚</strong>
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               \textbf{         ROLE ASSIGNMENT DECISION TREE       }                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              \textbf{Disease d in Paper p}
                                      â”‚
                                      â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       
                       â”‚ Compute aggregate score(d,p) â”‚
                       â”‚ across all mentions          â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ \textbf{Check minimum evidence requirements: }  â”‚
                  â”‚ â€¢ min_distinct_line_token_ids â‰¥ 2      â”‚
                  â”‚ â€¢ min_distinct_pages â‰¥ 1               â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                            â”‚
                    \textbf{   PASS                         FAIL}
                        â”‚                            â”‚
                        â–¼                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  \textbf{score â‰¥ 18.0?}    â”‚         \textbf{ â”‚  Skip disease  â”‚}
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                   
                 â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          
                 â”‚                    â”‚        
                \textbf{YES                   NO}
                 â”‚                    â”‚
                 â–¼                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ \textbf{PRIMARY count  â”‚  â”‚   score â‰¥ 6.0?    â”‚
        â”‚ < max_primary?} â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”      â”‚                 â”‚
         â”‚              â”‚     \textbf{YES                NO}
  \textbf{      YES             NO}     â”‚                 â”‚
         â”‚              â”‚      â–¼                 â”‚
         â–¼              â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  \textbf{â”‚ }ğŸ¥‡\textbf{PRIMARY  â”‚  â”‚}ğŸ¥ˆ\textbf{SECONDARY â”‚    â”‚    â”‚  INCIDENTAL  â”‚
  â””â”€â”€â”€â”€â”€â”€}â”€â”€\textbf{â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€}â”€\textbf{â”€â”€â”€â”€â”€â”€â”˜    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”Œâ”€â”€}â”€\textbf{â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                             â”‚}ğŸ¥ˆ\textbf{SECONDARY â”‚}
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\end{Verbatim}
~~~



