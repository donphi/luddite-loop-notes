# ES Scoring


## Content




~~~{=html}
<pre class="notion-ascii-diagram"><code>╔════════════════════════════════════════════════════════════════════════════════════════╗
║                   <strong>         PIPELINE 4: ES: SCORING MECHANICS        </strong>                   ║
║                              <strong>   &quot;Is This a Match?&quot;   </strong>                                  ║
╚════════════════════════════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────────────────────────────┐
│                        <strong>       THE MATCHING PROBLEM   </strong>                                  │
├────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                        │
│   We found &quot;BMI&quot; in a paper. Does it mean &quot;Body mass index (BMI)&quot; from UK Biobank?     │
│                                                                                        │
│   <strong>CHALLENGE: </strong>&quot;BMI&quot; could mean many things in biomedical text:                          │
│     • Body mass index ✓ (what we want)                                                 │
│     • Bone mineral index                                                               │
│     • Brain-machine interface                                                          │
│     • Random abbreviation in a table                                                   │
│                                                                                        │
│   <strong>SOLUTION:</strong> Use NLP models to check if the CONTEXT makes sense                         │
│                                                                                        │
└────────────────────────────────────────────────────────────────────────────────────────┘

╔════════════════════════════════════════════════════════════════════════════════════════╗
║                        <strong>       STEP 1: EXTRACT CONTEXT    </strong>                              ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║  <strong> Paper text:</strong>  &quot;The study found that mean <strong>BMI</strong> was 25.3 kg/m2 at baseline&quot;              ║
║                                           ───                                          ║
║                                         <strong>matched</strong>                                        ║
║                                                                                        ║
║   <strong>Extract ±3 words (window) around &quot;BMI&quot;: </strong>                                             ║
║                                                                                        ║
║                        &quot;found that mean BMI was 25.3 kg/m2&quot;                            ║
║                        └──────────────────────────────────┘                            ║
║                      context snippet (what model actually sees)                        ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                         <strong>   STEP 2: COMPUTE SIMILARITY  </strong>                                ║
║                     <strong>    &quot;How similar is context to feature?&quot; </strong>                          ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║                <strong>   FEATURE TITLE                         CONTEXT SNIPPET      </strong>          ║
║               &quot;Body mass index (BMI)&quot;            &quot;found that mean BMI was 25.3&quot;        ║
║                        │                                        │                      ║
║                        ▼                                        ▼                      ║
║         ┌─────────────────────────────────────────────────────────────────────┐        ║
║         │               <strong>NLP MODELS (Natural language processing)  </strong>            │        ║
║         │         Convert text → 768-dimensional vectors (embeddings)         │        ║
║         └─────────────────────────────────────────────────────────────────────┘        ║
║                        │                                        │                      ║
║                        ▼                                        ▼                      ║
║               <strong>[0.12, -0.34, ...] </strong>                     <strong>[0.15, -0.31, ...]  </strong>             ║
║            768 numbers (dimensions)                 768 numbers (dimensions)           ║
║                        │                                        │                      ║
║                        └──────────────────┬─────────────────────┘                      ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                ┌─────────────────────┐                                 ║
║                                │    <strong> DOT PRODUCT  </strong>   │                                 ║
║                                │ (cosine similarity) │                                 ║
║                                └──────────┬──────────┘                                 ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                      <strong> s = 0.82</strong>                                         ║
║                                                                                        ║
║      <strong>Score interpretation: </strong>                                                            ║
║        1.0 = identical meaning                                                         ║
║      + 0.8 = very similar (likely same concept)                                        ║
║      + 0.6 = somewhat similar                                                          ║
║      + 0.4 = weakly related                                                            ║
║      &lt; 0.4 = probably unrelated                                                        ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                           <strong>STEP 3: ENSEMBLE (USE TWO MODELS)  </strong>                          ║
║                             &quot;Don&#39;t trust just one opinion&quot;                             ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   <strong>We use TWO different NLP models as &quot;witnesses&quot;:</strong>                                      ║
║                                                                                        ║
║     <strong>       MODEL 1: MedCPT (Primary)               MODEL 2: BioBERT (Witness)    </strong>      ║
║          Trained on medical literature             Trained on biomedical text          ║
║                      │                                         │                       ║
║                      ▼                                         ▼                       ║
║                 <strong>s_primary</strong> = 0.82                         <strong>s_witness </strong>= 0.79              ║
║                      │                                         │                       ║
║                      └────────────────────┬────────────────────┘                       ║
║                                           │                                            ║
║                                           ▼                                            ║
║                            ┌─────────────────────────────┐                             ║
║                            │     <strong> WEIGHTED AVERAGE </strong>      │                             ║
║                            │                             │                             ║
║                            │   s_combined = 0.70 × 0.82  │                             ║
║                            │              + 0.30 × 0.79  │                             ║
║                            │            = 0.811          │                             ║
║                            │                             │                             ║
║                            │  <strong> Primary gets 70% weight   │                             ║
║                            │   BioBERT gets 30% weight </strong>  │                             ║
║                            └─────────────────────────────┘                             ║
║                                                                                        ║
║   <strong>WHY TWO MODELS?</strong>                                                                      ║
║   • Reduces single-model failure modes                                                 ║
║   • Different training = different blindspots                                          ║
║   • More robust final score                                                            ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                           │
                                           ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                      <strong>   STEP 4: APPLY THRESHOLD (THE GATES) </strong>                           ║
║                              &quot;Is the score good enough?&quot;                               ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   <strong>Different aliases need DIFFERENT strictness levels: </strong>                                 ║
║                                                                                        ║
║   ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║   │ <strong> ALIAS TYPE               │ THRESHOLD │  WHY?    </strong>                               │  ║
║   ├───────────────────────────┼───────────┼─────────────────────────────────────────┤  ║
║   │  &quot;field 21001&quot;            │   0.40    │  Explicit reference = high trust        │  ║
║   │  (field ID pattern)       │  (easy)   │  Almost certainly about this feature    │  ║
║   │                           │           │                                         │  ║
║   │  &quot;P&quot;, &quot;BP&quot;                │   0.80    │  Very ambiguous = strict threshold      │  ║
║   │  (1-2 char acronyms)      │  (hard)   │  Could mean many things                 │  ║
║   │                           │           │                                         │  ║
║   │  &quot;BMI&quot;, &quot;HDL&quot;             │   0.70    │  Moderately ambiguous                   │  ║
║   │  (3 char acronyms)        │           │                                         │  ║
║   │                           │           │                                         │  ║
║   │  &quot;COPD&quot;, &quot;ADHD&quot;           │   0.60    │  Longer = more specific                 │  ║
║   │  (4+ char acronyms)       │           │                                         │  ║
║   │                           │           │                                         │  ║
║   │  &quot;body mass index&quot;        │   0.60    │  Regular text = base threshold          │  ║
║   │   (full phrases)          │  (base)   │                                         │  ║
║   └─────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                                                        ║
║    <strong>EXAMPLE:</strong> alias = &quot;BMI&quot; (3 chars)                                                    ║
║             threshold = 0.70                                                           ║
║             score = 0.811                                                              ║
║                                                                                        ║
║             0.811 ≥ 0.70  ▶  ✅ PASS!                                                  ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                           │
                                           ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                   <strong> STEP 5: DUAL-ANCHOR CHECK (LONGER ALIASES ONLY)   </strong>                  ║
║                          &quot;Double-check with keyword match&quot;                             ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   <strong>For LONGER aliases (6+ characters like &quot;height&quot;, &quot;weight loss&quot;):                     ║
║   Require BOTH signals to agree:</strong>                                                       ║
║                                                                                        ║
║           ANCHOR 1: Embedding Score          ANCHOR 2: BM25 (Keyword Match)            ║
║            &quot;Does meaning match?&quot;                  &quot;Do the words match?&quot;                ║
║                        │                                     │                         ║
║                        ▼                                     ▼                         ║
║                    s = 0.72                          bm25_norm = 0.65                  ║
║                    ≥ 0.62? ✅                              ≥ 0.30? ✅                  ║
║                        │                                     │                         ║
║                        └──────────────────┬──────────────────┘                         ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                ┌─────────────────────┐                                 ║
║                                │  <strong>BOTH PASS?    </strong>     │                                 ║
║                                │ ✅ AND ✅ = <strong>ACCEPT </strong> │                                 ║
║                                │ ✅ AND ❌ = REJECT  │                                 ║
║                                │ ❌ AND ✅ = REJECT  │                                 ║
║                                └─────────────────────┘                                 ║
║                                                                                        ║
║   <strong>WHY?</strong>                                                                                 ║
║   • Embedding can be fooled by similar-sounding unrelated concepts                     ║
║   • BM25 ensures the actual words appear prominently                                   ║
║   • Together = much more confident                                                     ║
║                                                                                        ║
║   SHORT aliases (like &quot;BMI&quot;) skip this check: <strong>BM25 is unreliable for short terms</strong>       ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                           <strong>   STEP 6: CLASSIFY INTO TIERS       </strong>                        ║
║                                 &quot;How confident are we?&quot;                                ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   FINAL SCORE ▶ CONFIDENCE TIER:                                                       ║
║                                                                                        ║
║   <strong> 0.0            0.40                    0.60            0.80            1.0          ║</strong>
║    │═══════════════════════════════│═══════════════│═══════════════│══════════════│    ║
║    │                               │               │               │              │    ║
║    │        <strong>   REJECTED            │     LOW       │    MEDIUM     │    HIGH      │    ║</strong>
║    │        (filtered out)         │  (uncertain)  │  (probable)   │ (confident)  │    ║
║    │                               │               │               │              │    ║
║                                                                                        ║
║   ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║   │  <strong>TIER     │  SCORE RANGE  │  MEANING  </strong>                                          │  ║
║   ├───────────┼───────────────┼─────────────────────────────────────────────────────┤  ║
║   │  <strong>HIGH </strong>    │  ≥ 0.80       │  Very confident this is the right feature           │  ║
║   │           │               │  Context strongly matches feature meaning           │  ║
║   │           │               │                                                     │  ║
║   │  <strong>MEDIUM</strong>   │  0.60 – 0.79  │  Probably correct, may need human review            │  ║
║   │           │               │  Context reasonably matches                         │  ║
║   │           │               │                                                     │  ║
║   │  L<strong>OW </strong>     │  0.40 – 0.59  │  Possibly correct, uncertain                        │  ║
║   │           │               │  Context weakly matches                             │  ║
║   │           │               │                                                     │  ║
║   │  <strong>REJECTED</strong> │  &lt; 0.40       │  Probably wrong, filtered from output               │  ║
║   │           │               │  Context doesn&#39;t match feature meaning              │  ║
║   └─────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                                                        ║
║   <strong>EXAMPLE:</strong>                                                                             ║
║     s_final = 0.811  ▶  0.811 ≥ 0.80  ▶  tier = &quot;HIGH&quot; ✅                              ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝


╔════════════════════════════════════════════════════════════════════════════════════════╗
║                            <strong>  COMPLETE SCORING FLOWCHART  </strong>                              ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║          FEATURE TITLE                              CONTEXT SNIPPET                    ║
║       &quot;Body mass index&quot;                      &quot;mean BMI was 25.3 kg/m2&quot;                 ║
║               │                                          │                             ║
║               ▼                                          ▼                             ║
║      ┌─────────────────┐                        ┌─────────────────┐                    ║
║      │    MedCPT       │                        │    MedCPT       │                    ║
║      │   (Query)       │                        │   (Article)     │                    ║
║      └────────┬────────┘                        └────────┬────────┘                    ║
║               │                                          │                             ║
║               └───────────────┬──────────────────────────┘                             ║
║                               ▼                                                        ║
║                        s_primary = 0.82                                                ║
║                               │                                                        ║
║               ┌───────────────┴───────────────┐                                        ║
║               ▼                               ▼                                        ║
║      ┌─────────────────┐             ┌─────────────────┐                               ║
║      │    BioBERT      │             │    BioBERT      │                               ║
║      │    (title)      │             │   (snippet)     │                               ║
║      └────────┬────────┘             └────────┬────────┘                               ║
║               │                               │                                        ║
║               └───────────┬───────────────────┘                                        ║
║                           ▼                                                            ║
║                    s_biobert = 0.79                                                    ║
║                           │                                                            ║
║     ┌─────────────────────┴─────────────────────┐                                      ║
║     │                                           │                                      ║
║     ▼                                           ▼                                      ║
║  s_primary = 0.82                          s_biobert = 0.79                            ║
║     │                                           │                                      ║
║     └─────────────────┬─────────────────────────┘                                      ║
║                       │                                                                ║
║                       ▼                                                                ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 1: QUORUM CHECK                              │                             ║
║     │  At least 1 model must score ≥ 0.40                │                             ║
║     │                                                    │                             ║
║     │  0.82 ≥ 0.40? ✓    0.79 ≥ 0.40? ✓                  │                             ║
║     │  Count = 2 ≥ 1  →  PASS                            │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                       PASS │ (if FAIL → score = 0, REJECTED)                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  COMBINE: Weighted Average                         │                             ║
║     │                                                    │                             ║
║     │  s_combined = 0.70 × 0.82 + 0.30 × 0.79            │                             ║
║     │             = 0.574 + 0.237                        │                             ║
║     │             = 0.811                                │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 2: ALIAS THRESHOLD                           │                             ║
║     │                                                    │                             ║
║     │  alias = &quot;BMI&quot; (3 chars)  →  threshold = 0.68      │                             ║
║     │                                                    │                             ║
║     │  0.811 ≥ 0.68?  →  ✓ PASS                          │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                       PASS │ (if FAIL → try fallback max(scores) ≥ 0.40)               ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 3: DUAL-ANCHOR (only if |alias| ≥ 6)         │                             ║
║     │                                                    │                             ║
║     │  |&quot;BMI&quot;| = 3 &lt; 6  →  SKIP (not applicable)         │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  FINAL SCORE: s_final = 0.811                      │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  CLASSIFY: s_final = 0.811                         │                             ║
║     │                                                    │                             ║
║     │  0.811 ≥ 0.80  →  tier = &quot;HIGH&quot;  ✓                 │                             ║
║     └────────────────────────────────────────────────────┘                             ║
║                                                                                        ║
║   RESULT: This &quot;BMI&quot; mention is a HIGH confidence match                                ║
║           for UK Biobank feature &quot;Body mass index (BMI)&quot;                               ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝


┌────────────────────────────────────────────────────────────────────────────────────────┐
│                              SUMMARY: THE SCORING FORMULA                              │
├────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                        │
│   1. SIMILARITY:     s = embedding(title) · embedding(context)                         │
│                                                                                        │
│   2. ENSEMBLE:       s_combined = 0.70 × s_primary + 0.30 × s_biobert                  │
│                                                                                        │
│   3. THRESHOLD:      τ = { 0.82 if short acronym,                                      │
│                            0.68 if 3-char acronym,                                     │
│                            0.62 otherwise }                                            │
│                                                                                        │
│   4. DECISION:       if s_combined ≥ τ  →  ACCEPT                                      │
│                      else if max(s) ≥ 0.40  →  ACCEPT (fallback)                       │
│                      else  →  REJECT                                                   │
│                                                                                        │
│   5. TIER:           HIGH (≥0.80) | MEDIUM (≥0.60) | LOW (≥0.40) | REJECTED            │
│                                                                                        │
</code></pre>
~~~

~~~{=latex}
\begin{Verbatim}[commandchars=\\\{\}]
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                   \textbf{         PIPELINE 4: ES: SCORING MECHANICS        }                   ║
║                              \textbf{   "Is This a Match?"   }                                  ║
╚════════════════════════════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────────────────────────────┐
│                        \textbf{       THE MATCHING PROBLEM   }                                  │
├────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                        │
│   We found "BMI" in a paper. Does it mean "Body mass index (BMI)" from UK Biobank?     │
│                                                                                        │
│   \textbf{CHALLENGE: }"BMI" could mean many things in biomedical text:                          │
│     • Body mass index ✓ (what we want)                                                 │
│     • Bone mineral index                                                               │
│     • Brain-machine interface                                                          │
│     • Random abbreviation in a table                                                   │
│                                                                                        │
│   \textbf{SOLUTION:} Use NLP models to check if the CONTEXT makes sense                         │
│                                                                                        │
└────────────────────────────────────────────────────────────────────────────────────────┘

╔════════════════════════════════════════════════════════════════════════════════════════╗
║                        \textbf{       STEP 1: EXTRACT CONTEXT    }                              ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║  \textbf{ Paper text:}  "The study found that mean \textbf{BMI} was 25.3 kg/m2 at baseline"              ║
║                                           ───                                          ║
║                                         \textbf{matched}                                        ║
║                                                                                        ║
║   \textbf{Extract ±3 words (window) around "BMI": }                                             ║
║                                                                                        ║
║                        "found that mean BMI was 25.3 kg/m2"                            ║
║                        └──────────────────────────────────┘                            ║
║                      context snippet (what model actually sees)                        ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                         \textbf{   STEP 2: COMPUTE SIMILARITY  }                                ║
║                     \textbf{    "How similar is context to feature?" }                          ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║                \textbf{   FEATURE TITLE                         CONTEXT SNIPPET      }          ║
║               "Body mass index (BMI)"            "found that mean BMI was 25.3"        ║
║                        │                                        │                      ║
║                        ▼                                        ▼                      ║
║         ┌─────────────────────────────────────────────────────────────────────┐        ║
║         │               \textbf{NLP MODELS (Natural language processing)  }            │        ║
║         │         Convert text → 768-dimensional vectors (embeddings)         │        ║
║         └─────────────────────────────────────────────────────────────────────┘        ║
║                        │                                        │                      ║
║                        ▼                                        ▼                      ║
║               \textbf{[0.12, -0.34, ...] }                     \textbf{[0.15, -0.31, ...]  }             ║
║            768 numbers (dimensions)                 768 numbers (dimensions)           ║
║                        │                                        │                      ║
║                        └──────────────────┬─────────────────────┘                      ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                ┌─────────────────────┐                                 ║
║                                │    \textbf{ DOT PRODUCT  }   │                                 ║
║                                │ (cosine similarity) │                                 ║
║                                └──────────┬──────────┘                                 ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                      \textbf{ s = 0.82}                                         ║
║                                                                                        ║
║      \textbf{Score interpretation: }                                                            ║
║        1.0 = identical meaning                                                         ║
║      + 0.8 = very similar (likely same concept)                                        ║
║      + 0.6 = somewhat similar                                                          ║
║      + 0.4 = weakly related                                                            ║
║      < 0.4 = probably unrelated                                                        ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                           \textbf{STEP 3: ENSEMBLE (USE TWO MODELS)  }                          ║
║                             "Don't trust just one opinion"                             ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   \textbf{We use TWO different NLP models as "witnesses":}                                      ║
║                                                                                        ║
║     \textbf{       MODEL 1: MedCPT (Primary)               MODEL 2: BioBERT (Witness)    }      ║
║          Trained on medical literature             Trained on biomedical text          ║
║                      │                                         │                       ║
║                      ▼                                         ▼                       ║
║                 \textbf{s_primary} = 0.82                         \textbf{s_witness }= 0.79              ║
║                      │                                         │                       ║
║                      └────────────────────┬────────────────────┘                       ║
║                                           │                                            ║
║                                           ▼                                            ║
║                            ┌─────────────────────────────┐                             ║
║                            │     \textbf{ WEIGHTED AVERAGE }      │                             ║
║                            │                             │                             ║
║                            │   s_combined = 0.70 × 0.82  │                             ║
║                            │              + 0.30 × 0.79  │                             ║
║                            │            = 0.811          │                             ║
║                            │                             │                             ║
║                            │  \textbf{ Primary gets 70% weight   │                             ║
║                            │   BioBERT gets 30% weight }  │                             ║
║                            └─────────────────────────────┘                             ║
║                                                                                        ║
║   \textbf{WHY TWO MODELS?}                                                                      ║
║   • Reduces single-model failure modes                                                 ║
║   • Different training = different blindspots                                          ║
║   • More robust final score                                                            ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                           │
                                           ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                      \textbf{   STEP 4: APPLY THRESHOLD (THE GATES) }                           ║
║                              "Is the score good enough?"                               ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   \textbf{Different aliases need DIFFERENT strictness levels: }                                 ║
║                                                                                        ║
║   ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║   │ \textbf{ ALIAS TYPE               │ THRESHOLD │  WHY?    }                               │  ║
║   ├───────────────────────────┼───────────┼─────────────────────────────────────────┤  ║
║   │  "field 21001"            │   0.40    │  Explicit reference = high trust        │  ║
║   │  (field ID pattern)       │  (easy)   │  Almost certainly about this feature    │  ║
║   │                           │           │                                         │  ║
║   │  "P", "BP"                │   0.80    │  Very ambiguous = strict threshold      │  ║
║   │  (1-2 char acronyms)      │  (hard)   │  Could mean many things                 │  ║
║   │                           │           │                                         │  ║
║   │  "BMI", "HDL"             │   0.70    │  Moderately ambiguous                   │  ║
║   │  (3 char acronyms)        │           │                                         │  ║
║   │                           │           │                                         │  ║
║   │  "COPD", "ADHD"           │   0.60    │  Longer = more specific                 │  ║
║   │  (4+ char acronyms)       │           │                                         │  ║
║   │                           │           │                                         │  ║
║   │  "body mass index"        │   0.60    │  Regular text = base threshold          │  ║
║   │   (full phrases)          │  (base)   │                                         │  ║
║   └─────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                                                        ║
║    \textbf{EXAMPLE:} alias = "BMI" (3 chars)                                                    ║
║             threshold = 0.70                                                           ║
║             score = 0.811                                                              ║
║                                                                                        ║
║             0.811 ≥ 0.70  ▶  ✅ PASS!                                                  ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                           │
                                           ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                   \textbf{ STEP 5: DUAL-ANCHOR CHECK (LONGER ALIASES ONLY)   }                  ║
║                          "Double-check with keyword match"                             ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   \textbf{For LONGER aliases (6+ characters like "height", "weight loss"):                     ║
║   Require BOTH signals to agree:}                                                       ║
║                                                                                        ║
║           ANCHOR 1: Embedding Score          ANCHOR 2: BM25 (Keyword Match)            ║
║            "Does meaning match?"                  "Do the words match?"                ║
║                        │                                     │                         ║
║                        ▼                                     ▼                         ║
║                    s = 0.72                          bm25_norm = 0.65                  ║
║                    ≥ 0.62? ✅                              ≥ 0.30? ✅                  ║
║                        │                                     │                         ║
║                        └──────────────────┬──────────────────┘                         ║
║                                           │                                            ║
║                                           ▼                                            ║
║                                ┌─────────────────────┐                                 ║
║                                │  \textbf{BOTH PASS?    }     │                                 ║
║                                │ ✅ AND ✅ = \textbf{ACCEPT } │                                 ║
║                                │ ✅ AND ❌ = REJECT  │                                 ║
║                                │ ❌ AND ✅ = REJECT  │                                 ║
║                                └─────────────────────┘                                 ║
║                                                                                        ║
║   \textbf{WHY?}                                                                                 ║
║   • Embedding can be fooled by similar-sounding unrelated concepts                     ║
║   • BM25 ensures the actual words appear prominently                                   ║
║   • Together = much more confident                                                     ║
║                                                                                        ║
║   SHORT aliases (like "BMI") skip this check: \textbf{BM25 is unreliable for short terms}       ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝
                                            │
                                            ▼
╔════════════════════════════════════════════════════════════════════════════════════════╗
║                           \textbf{   STEP 6: CLASSIFY INTO TIERS       }                        ║
║                                 "How confident are we?"                                ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║   FINAL SCORE ▶ CONFIDENCE TIER:                                                       ║
║                                                                                        ║
║   \textbf{ 0.0            0.40                    0.60            0.80            1.0          ║}
║    │═══════════════════════════════│═══════════════│═══════════════│══════════════│    ║
║    │                               │               │               │              │    ║
║    │        \textbf{   REJECTED            │     LOW       │    MEDIUM     │    HIGH      │    ║}
║    │        (filtered out)         │  (uncertain)  │  (probable)   │ (confident)  │    ║
║    │                               │               │               │              │    ║
║                                                                                        ║
║   ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║   │  \textbf{TIER     │  SCORE RANGE  │  MEANING  }                                          │  ║
║   ├───────────┼───────────────┼─────────────────────────────────────────────────────┤  ║
║   │  \textbf{HIGH }    │  ≥ 0.80       │  Very confident this is the right feature           │  ║
║   │           │               │  Context strongly matches feature meaning           │  ║
║   │           │               │                                                     │  ║
║   │  \textbf{MEDIUM}   │  0.60 – 0.79  │  Probably correct, may need human review            │  ║
║   │           │               │  Context reasonably matches                         │  ║
║   │           │               │                                                     │  ║
║   │  L\textbf{OW }     │  0.40 – 0.59  │  Possibly correct, uncertain                        │  ║
║   │           │               │  Context weakly matches                             │  ║
║   │           │               │                                                     │  ║
║   │  \textbf{REJECTED} │  < 0.40       │  Probably wrong, filtered from output               │  ║
║   │           │               │  Context doesn't match feature meaning              │  ║
║   └─────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                                                        ║
║   \textbf{EXAMPLE:}                                                                             ║
║     s_final = 0.811  ▶  0.811 ≥ 0.80  ▶  tier = "HIGH" ✅                              ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝


╔════════════════════════════════════════════════════════════════════════════════════════╗
║                            \textbf{  COMPLETE SCORING FLOWCHART  }                              ║
╠════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                        ║
║          FEATURE TITLE                              CONTEXT SNIPPET                    ║
║       "Body mass index"                      "mean BMI was 25.3 kg/m2"                 ║
║               │                                          │                             ║
║               ▼                                          ▼                             ║
║      ┌─────────────────┐                        ┌─────────────────┐                    ║
║      │    MedCPT       │                        │    MedCPT       │                    ║
║      │   (Query)       │                        │   (Article)     │                    ║
║      └────────┬────────┘                        └────────┬────────┘                    ║
║               │                                          │                             ║
║               └───────────────┬──────────────────────────┘                             ║
║                               ▼                                                        ║
║                        s_primary = 0.82                                                ║
║                               │                                                        ║
║               ┌───────────────┴───────────────┐                                        ║
║               ▼                               ▼                                        ║
║      ┌─────────────────┐             ┌─────────────────┐                               ║
║      │    BioBERT      │             │    BioBERT      │                               ║
║      │    (title)      │             │   (snippet)     │                               ║
║      └────────┬────────┘             └────────┬────────┘                               ║
║               │                               │                                        ║
║               └───────────┬───────────────────┘                                        ║
║                           ▼                                                            ║
║                    s_biobert = 0.79                                                    ║
║                           │                                                            ║
║     ┌─────────────────────┴─────────────────────┐                                      ║
║     │                                           │                                      ║
║     ▼                                           ▼                                      ║
║  s_primary = 0.82                          s_biobert = 0.79                            ║
║     │                                           │                                      ║
║     └─────────────────┬─────────────────────────┘                                      ║
║                       │                                                                ║
║                       ▼                                                                ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 1: QUORUM CHECK                              │                             ║
║     │  At least 1 model must score ≥ 0.40                │                             ║
║     │                                                    │                             ║
║     │  0.82 ≥ 0.40? ✓    0.79 ≥ 0.40? ✓                  │                             ║
║     │  Count = 2 ≥ 1  →  PASS                            │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                       PASS │ (if FAIL → score = 0, REJECTED)                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  COMBINE: Weighted Average                         │                             ║
║     │                                                    │                             ║
║     │  s_combined = 0.70 × 0.82 + 0.30 × 0.79            │                             ║
║     │             = 0.574 + 0.237                        │                             ║
║     │             = 0.811                                │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 2: ALIAS THRESHOLD                           │                             ║
║     │                                                    │                             ║
║     │  alias = "BMI" (3 chars)  →  threshold = 0.68      │                             ║
║     │                                                    │                             ║
║     │  0.811 ≥ 0.68?  →  ✓ PASS                          │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                       PASS │ (if FAIL → try fallback max(scores) ≥ 0.40)               ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  GATE 3: DUAL-ANCHOR (only if |alias| ≥ 6)         │                             ║
║     │                                                    │                             ║
║     │  |"BMI"| = 3 < 6  →  SKIP (not applicable)         │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  FINAL SCORE: s_final = 0.811                      │                             ║
║     └──────────────────────┬─────────────────────────────┘                             ║
║                            │                                                           ║
║                            ▼                                                           ║
║     ┌────────────────────────────────────────────────────┐                             ║
║     │  CLASSIFY: s_final = 0.811                         │                             ║
║     │                                                    │                             ║
║     │  0.811 ≥ 0.80  →  tier = "HIGH"  ✓                 │                             ║
║     └────────────────────────────────────────────────────┘                             ║
║                                                                                        ║
║   RESULT: This "BMI" mention is a HIGH confidence match                                ║
║           for UK Biobank feature "Body mass index (BMI)"                               ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝


┌────────────────────────────────────────────────────────────────────────────────────────┐
│                              SUMMARY: THE SCORING FORMULA                              │
├────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                        │
│   1. SIMILARITY:     s = embedding(title) · embedding(context)                         │
│                                                                                        │
│   2. ENSEMBLE:       s_combined = 0.70 × s_primary + 0.30 × s_biobert                  │
│                                                                                        │
│   3. THRESHOLD:      τ = \textbraceleft{\textbraceright{} 0.82 if short acronym,                                      │
│                            0.68 if 3-char acronym,                                     │
│                            0.62 otherwise \textbraceright{}                                            │
│                                                                                        │
│   4. DECISION:       if s_combined ≥ τ  →  ACCEPT                                      │
│                      else if max(s) ≥ 0.40  →  ACCEPT (fallback)                       │
│                      else  →  REJECT                                                   │
│                                                                                        │
│   5. TIER:           HIGH (≥0.80) | MEDIUM (≥0.60) | LOW (≥0.40) | REJECTED            │
│                                                                                        │

\end{Verbatim}
~~~








# Equation Breakdown


## Score Calculation


$$
s_{\text{final}}(f, c, a) = \text{TIER}\Bigl(\text{DUAL\ANCHOR}\bigl(\text{ENSEMBLE}(s{\text{primary}}, s_{\text{biobert}}), a, \text{bm25}_{\text{norm}}\bigr)\Bigr)
$$



$$
s_{\text{final}}(f, c, a) = 
\text{TIER}\Bigl(\text{DUAL\_ANCHOR}\bigl(\text{ENSEMBLE}
(s{\text{primary}}, s_{\text{biobert}}), a, 
\textbf{bm25}_{\text{norm}}\bigr)\Bigr)
$$


$$
\begin{aligned}
f &= \text{UK Biobank feature (e.g., "Body mass index (BMI)")} \\
c &= \text{context snippet extracted around matched alias} \\
a &= \text{matched alias (e.g., "BMI")} \\
s_{\text{primary}} &= \text{MedCPT embedding similarity} \\
s_{\text{biobert}} &= \text{BioBERT embedding similarity} \\
\text{bm25}_{\text{norm}} &= \text{normalized keyword relevance score}
\end{aligned}
$$



---


## 3.2.1 Step 1: Extract Context Window


$$
c = \text{window}(\text{text}, a, w)
$$



Explained: Extract a snippet of ±w words around the matched alias to give the models enough context.



Definitions:


- $\text{text}$ = the full sentence/line from the paper
- $a$ = the alias that was found (e.g., "BMI")
- $w$ = window size (currently 3 words on each side)

Example:




<table>
  <thead>
    <tr>
      <th><strong>Full text</strong></th>
      <th>&quot;The study found that mean <strong>BMI</strong> was 25.3 kg/m² at baseline&quot;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Alias</strong></td>
      <td>&quot;BMI&quot;</td>
    </tr>
    <tr>
      <td><strong>Window (±3)</strong></td>
      <td>&quot;found that mean <strong>BMI</strong> was 25.3 kg/m²&quot;</td>
    </tr>
  </tbody>
</table>



---


## 3.2.2 Step 2: Compute Embedding Similarities


$$
s_m = \text{sim}(\mathbf{e}{\text{title}}^{(m)}, \mathbf{e}{\text{ctx}}^{(m)})
$$



Explained: Each model converts both the feature title and the context snippet into 768-dimensional vectors, then computes their similarity via dot product (equivalent to cosine similarity for normalized vectors).



Definitions:


- $m$ = model identifier (primary or biobert)
- $\mathbf{e}_{\text{title}}^{(m)}$ = embedding of feature title using model _m_
- $\mathbf{e}_{\text{ctx}}^{(m)}$ = embedding of context snippet using model _m_
- $\text{sim}()$ = dot product similarity ∈ [0, 1]

Models:




<table>
  <thead>
    <tr>
      <th><strong>Model</strong></th>
      <th><strong>Name</strong></th>
      <th><strong>Role</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Primary</td>
      <td>MedCPT</td>
      <td>Medical literature specialist</td>
    </tr>
    <tr>
      <td>Witness</td>
      <td>BioBERT-STSB</td>
      <td>Biomedical text generalist</td>
    </tr>
  </tbody>
</table>



Example:


- Feature title: "Body mass index (BMI)" → $\mathbf{e}_{\text{title}}$
- Context: "found that mean BMI was 25.3" → $\mathbf{e}_{\text{ctx}}$
- $s_{\text{primary}} = 0.82$, $s_{\text{biobert}} = 0.79$

---


## 3.2.3 Step 3: Quorum Check (Gate 1)


$$
\text{QUORUM} = \mathbb{1}\left[|\{m : s_m \geq \tau_{\text{low}}\}| \geq k\right]
$$



Explained: At least k models must agree that this is a plausible match (score ≥ minimum threshold). This prevents false positives where only one model is fooled.



Parameters:




<table>
  <thead>
    <tr>
      <th><strong>Symbol</strong></th>
      <th><strong>Value</strong></th>
      <th><strong>Meaning</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$\tau_{\text{low}}$</td>
      <td>0.40</td>
      <td>Minimum acceptance threshold</td>
    </tr>
    <tr>
      <td>$k$</td>
      <td>1</td>
      <td>Required number of passing models</td>
    </tr>
  </tbody>
</table>



Example:
$$|\{0.82 \geq 0.40, 0.79 \geq 0.40\}| = 2 \geq 1 \quad \checkmark \text{ PASS}$$



If FAIL: $s_{\text{final}} = 0$ → REJECTED



---


## 3.2.4 Step 4: Weighted Ensemble Combination


$$
s_{\text{comb}} = w_{\text{primary}} \cdot s_{\text{primary}} + w_{\text{biobert}} \cdot s_{\text{biobert}}
$$



Explained: Combine the two model scores using fixed weights. The medical-domain specialist (MedCPT) gets higher weight.



Weights:




<table>
  <thead>
    <tr>
      <th><strong>Model</strong></th>
      <th><strong>Weight</strong></th>
      <th><strong>Why</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>MedCPT (primary)</td>
      <td>0.70</td>
      <td>Medical literature expert</td>
    </tr>
    <tr>
      <td>BioBERT (witness)</td>
      <td>0.30</td>
      <td>General biomedical backup</td>
    </tr>
  </tbody>
</table>



Example:
$$s_{\text{comb}} = 0.70 \times 0.82 + 0.30 \times 0.79 = 0.574 + 0.237 = 0.811$$



---


## 3.2.5 Step 5: Dynamic Alias Threshold (Gate 2)


$$
\tau(a) = \begin{cases}
0.40 & \text{field ID pattern} \\
0.82 & \text{1-2 char acronym} \\
0.68 & \text{3 char acronym} \\
0.62 & \text{4+ char acronym} \\
0.62 & \text{regular alias}
\end{cases}
$$



Explained: Short, ambiguous aliases need higher confidence to pass. Field IDs like "21001" are unambiguous so get low threshold.



Threshold Table:




<table>
  <thead>
    <tr>
      <th><strong>Alias Type</strong></th>
      <th><strong>Example</strong></th>
      <th><strong>Threshold</strong></th>
      <th><strong>Rationale</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Field ID</td>
      <td>&quot;field 21001&quot;</td>
      <td>0.40</td>
      <td>Unique identifier</td>
    </tr>
    <tr>
      <td>1-2 char acronym</td>
      <td>&quot;BP&quot;</td>
      <td>0.82</td>
      <td>Very ambiguous</td>
    </tr>
    <tr>
      <td>3 char acronym</td>
      <td>&quot;BMI&quot;</td>
      <td>0.68</td>
      <td>Moderately ambiguous</td>
    </tr>
    <tr>
      <td>4+ char acronym</td>
      <td>&quot;COPD&quot;</td>
      <td>0.62</td>
      <td>Less ambiguous</td>
    </tr>
    <tr>
      <td>Full phrase</td>
      <td>&quot;body mass index&quot;</td>
      <td>0.62</td>
      <td>Base threshold</td>
    </tr>
  </tbody>
</table>



Example: For "BMI" (3-char acronym):
$$\tau = 0.68, \quad s_{\text{comb}} = 0.811 \geq 0.68 \quad \checkmark \text{ PASS}$$



---


## 3.2.6 Step 5b: Fallback Logic (if Gate 2 Fails)


$$
s_{\text{ensemble}} = \begin{cases}
s_{\text{comb}} & \text{if } s_{\text{comb}} \geq \tau(a) \\
\max(s_{\text{primary}}, s_{\text{biobert}}) & \text{if } s_{\text{comb}} < \tau(a) \land \max \geq \tau_{\text{low}} \\
0 & \text{otherwise}
\end{cases}
$$



Explained: If the weighted average fails the threshold, give a second chance using the best single model. If even that fails, reject.



Example: (not needed here since 0.811 ≥ 0.68)
$$s_{\text{ensemble}} = 0.811$$



---


## 3.2.7 Step 6: Dual-Anchor Validation (Gate 3 - Long Aliases Only)


$$
s_{\text{dual}} = \begin{cases}
s_{\text{ensemble}} & \text{if } |a| < 6 \text{ (skip check)} \\
s_{\text{ensemble}} & \text{if } (|a| \geq 6) \land (\text{bm25}{\text{norm}} \geq 0.30) \\
0 & \text{if } (|a| \geq 6) \land (\text{bm25}{\text{norm}} < 0.30)
\end{cases}
$$



Explained: For longer aliases (≥6 chars), require BOTH semantic similarity AND lexical keyword match. This prevents semantic-only false positives.



BM25 Normalization:
$$\text{bm25}{\text{norm}} = \frac{\log(1 + \text{bm25}{\text{raw}})}{\log(1 + \text{bm25}_{\max})}$$



Example:
$$|"\text{BMI}"| = 3 < 6 \quad \Rightarrow \quad \text{SKIP (not applicable)}$$



---


## 3.2.8 Step 7: Tier Classification


$$
\text{tier}(s) = \begin{cases}
\text{HIGH} & s \geq 0.80 \\
\text{MEDIUM} & 0.60 \leq s < 0.80 \\
\text{LOW} & 0.40 \leq s < 0.60 \\
\text{REJECTED} & s < 0.40
\end{cases}
$$



Explained: Map the final numeric score to a human-interpretable confidence level.



Example:
$$s_{\text{final}} = 0.811 \geq 0.80 \quad \Rightarrow \quad \text{tier} = \textbf{HIGH}$$



---


## 3.3 Complete Master Equation


$$
\boxed{
s_{\text{final}}(f, c, a) = \begin{cases}
0 & \text{if QUORUM fails: } |\{m : s_m \geq 0.40\}| < 1 \\[0.8em]
0 & \text{if THRESHOLD fails: } s_{\text{comb}} < \tau(a) \land \max(s_m) < 0.40 \\[0.8em]
0 & \text{if DUAL-ANCHOR fails: } |a| \geq 6 \land \text{bm25}{\text{norm}} < 0.30 \\[0.8em]
s{\text{ensemble}} & \text{otherwise}
\end{cases}
}
$$



Where:



$$
s_{\text{ensemble}} = \begin{cases}
0.70 \cdot s_{\text{primary}} + 0.30 \cdot s_{\text{biobert}} & \text{if } s_{\text{comb}} \geq \tau(a) \\[0.5em]
\max(s_{\text{primary}}, s_{\text{biobert}}) & \text{if } \max \geq 0.40 \text{ (fallback)} \\[0.5em]
0 & \text{otherwise}
\end{cases}
$$



And:



$$
\tau(a) = \begin{cases}
0.40 & \text{field ID} \\
0.82 & |a| \leq 2 \\
0.68 & |a| = 3 \\
0.62 & |a| \geq 4 \text{ or regular}
\end{cases}
$$



---


## 3.4 Worked Example


Input:




<table>
  <thead>
    <tr>
      <th><strong>Item</strong></th>
      <th><strong>Value</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Feature</td>
      <td>&quot;Body mass index (BMI)&quot;</td>
    </tr>
    <tr>
      <td>Context</td>
      <td>&quot;found that mean BMI was 25.3 kg/m²&quot;</td>
    </tr>
    <tr>
      <td>Alias</td>
      <td>&quot;BMI&quot; (3-char acronym)</td>
    </tr>
  </tbody>
</table>



Computation:




<table>
  <thead>
    <tr>
      <th><strong>Step</strong></th>
      <th><strong>Operation</strong></th>
      <th><strong>Result</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1. Context</td>
      <td>Extract ±3 words around &quot;BMI&quot;</td>
      <td>&quot;found that mean BMI was 25.3 kg/m²&quot;</td>
    </tr>
    <tr>
      <td>2a. MedCPT</td>
      <td>$\mathbf{e}<em>{\text{title}} \cdot \mathbf{e}</em>{\text{ctx}}$</td>
      <td>$s_{\text{primary}} = 0.82$</td>
    </tr>
    <tr>
      <td>2b. BioBERT</td>
      <td>$\mathbf{e}<em>{\text{title}} \cdot \mathbf{e}</em>{\text{ctx}}$</td>
      <td>$s_{\text{biobert}} = 0.79$</td>
    </tr>
    <tr>
      <td>3. Quorum</td>
      <td>$</td>
      <td>\{0.82, 0.79\} \geq 0.40</td>
    </tr>
    <tr>
      <td>4. Combine</td>
      <td>$0.70 \times 0.82 + 0.30 \times 0.79$</td>
      <td>$s_{\text{comb}} = 0.811$</td>
    </tr>
    <tr>
      <td>5. Threshold</td>
      <td>$\tau(\text{&quot;BMI&quot;}) = 0.68$; $0.811 \geq 0.68$</td>
      <td>✅ PASS</td>
    </tr>
    <tr>
      <td>6. Dual-Anchor</td>
      <td>$</td>
      <td>\text{&quot;BMI&quot;}</td>
    </tr>
    <tr>
      <td>7. Final</td>
      <td>—</td>
      <td>$s_{\text{final}} = 0.811$</td>
    </tr>
    <tr>
      <td>8. Tier</td>
      <td>$0.811 \geq 0.80$</td>
      <td><strong>HIGH</strong></td>
    </tr>
  </tbody>
</table>



Result: This "BMI" mention is classified as HIGH confidence match for UK Biobank feature "Body mass index (BMI)"


