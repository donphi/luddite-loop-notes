# Convert UKB PDF to MD error 2


## Content




~~~markdown
# PDF to Markdown/JSON Conversion Experiment

## Overview
Converted 6,641 unique UK Biobank PDF documents to structured Markdown and JSON formats using marker-pdf with custom metadata extraction pipeline.

## Methodology
PDFs were processed in 10 batches (batch_001 to batch_010) containing 100-800 files each. The conversion pipeline was iteratively refined during processing to address performance and reliability issues.

## Results

### Conversion Success Rates by Batch
| Batch | Files | Converted | Success Rate | Notes |
|-------|-------|-----------|--------------|-------|
| 001   | 100   | 98        | 98.0%        | Initial implementation |
| 002   | 800   | 731       | 91.4%        | Script issues identified |
| 003   | 800   | 723       | 90.4%        | Debugging ongoing |
| 004   | 800   | 758       | 94.8%        | Partial improvements |
| 005   | 800   | 752       | 94.0%        | Further refinements |
| 006   | 800   | 800       | 100%         | **Script issues resolved** |
| 007   | 800   | 742       | 92.8%        | Regression in settings |
| 008   | 800   | 800       | 100%         | Final implementation |
| 009   | 800   | 800       | 100%         | Stable performance |
| 010   | 146   | 146       | 100%         | Includes 5 reprocessed files |

**Total: 6,345 of 6,641 PDFs successfully converted (95.5%)**

## Process Improvement
The conversion script was iteratively refined between batches to address:
- Memory management issues causing timeouts
- Model caching for improved performance  
- Thread management to prevent process zombies
- Batch size optimization for GPU utilization

Batches 001-005 served as development iterations where issues were identified and resolved. The final stable implementation achieved 100% success rate in batches 006 and 008-010.

## Data Integrity
- 296 PDFs require reprocessing from failed batches
- 52 PDFs were processed twice with different metadata sources, creating duplicate MD files with unique content
- All failed PDFs verified as valid (file sizes: 234KB-7.4MB)
- No data corruption detected

## Conclusion
The iterative development approach successfully identified and resolved conversion pipeline issues, achieving 100% reliability in the final implementation. The 296 failed conversions from early batches will be reprocessed using the stable version to complete the dataset.
~~~







